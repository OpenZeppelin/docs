---
title: Access Control
description: Access Control
---

This crate provides ways to restrict who can access the functions of a contract or when they can do it.

* {Ownable} is a simple mechanism with a single "owner" role that can be assigned to a single account.
This mechanism can be useful in simple scenarios, but fine grained access needs are likely to outgrow it.
* {AccessControl} provides a general role based access control mechanism. Multiple hierarchical roles can be created and
assigned each to multiple accounts.

## Interfaces

<Callout>
Starting from version `3.x.x`, the interfaces are no longer part of the `openzeppelin_access` package. The references
</Callout>
documented here are contained in the `openzeppelin_interfaces` package version `v{current_openzeppelin_interfaces_version}`.

### `++IAccessControl++` link:https://github.com/OpenZeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/interfaces/src/access/accesscontrol.cairo[pass:[<svg class="icon"><use href="#github-icon"/></svg>],role=heading-link]

```rust
use openzeppelin_interfaces::accesscontrol::IAccessControl;
```

External interface of AccessControl.

**[SRC5 ID](api/introspection.adoc#ISRC5)**

0x23700be02858dbe2ac4dc9c9f66d0b6b0ed81ec7f970ca6844500a56ff61751

**Functions**

* [`+has_role(role, account)+`](#`[.contract-item-name]#++has_role++#++(role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+get_role_admin(role)+`](#`[.contract-item-name]#++get_role_admin++#++(role:-felt252)-→-felt252++`-[.item-kind]#external#)
* [`+grant_role(role, account)+`](#`[.contract-item-name]#++grant_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+revoke_role(role, account)+`](#`[.contract-item-name]#++revoke_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+renounce_role(role, account)+`](#`[.contract-item-name]#++renounce_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)

**Events**

* [`+RoleAdminChanged(role, previous_admin_role, new_admin_role)+`](#`[.contract-item-name]#++roleadminchanged++#++(role:-felt252,-previous_admin_role:-contractaddress,-new_admin_role:-contractaddress)++`-[.item-kind]#event#)
* [`+RoleGranted(role, account, sender)+`](#`[.contract-item-name]#++rolegranted++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#)
* [`+RoleRevoked(role, account, sender)+`](#`[.contract-item-name]#++rolerevoked++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#)

#### Functions

#### `[.contract-item-name]#++has_role++#++(role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

Returns whether `account` can act as `role`.

#### `[.contract-item-name]#++get_role_admin++#++(role: felt252) → felt252++` [.item-kind]#external#

Returns the admin role that controls `role`. See [grant_role](#`[.contract-item-name]#++grant_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) and
[revoke_role](#`[.contract-item-name]#++revoke_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

To change a role’s admin, use [set_role_admin](#`[.contract-item-name]#++set_role_admin++#++(ref-self:-contractstate,-role:-felt252,-admin_role:-felt252)++`-[.item-kind]#internal#).

#### `[.contract-item-name]#++grant_role++#++(role: felt252, account: ContractAddress)++` [.item-kind]#external#

Grants `role` to `account`.

If `account` had not been already granted `role`, emits a {RoleGranted}
event.

Requirements:

* the caller must have ``role`’s admin role.

#### `[.contract-item-name]#++revoke_role++#++(role: felt252, account: ContractAddress)++` [.item-kind]#external#

Revokes `role` from `account`.

If `account` had been granted `role`, emits a {RoleRevoked} event.

Requirements:

* the caller must have ``role`’s admin role.

#### `[.contract-item-name]#++renounce_role++#++(role: felt252, account: ContractAddress)++` [.item-kind]#external#

Revokes `role` from the calling account.

Roles are often managed via [grant_role](#`[.contract-item-name]#++grant_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) and [revoke_role](#`[.contract-item-name]#++revoke_role++#++(role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#). This function’s
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).

If the calling account had been granted `role`, emits a {RoleRevoked}
event.

Requirements:

* the caller must be `account`.

#### Events

#### `[.contract-item-name]#++RoleAdminChanged++#++(role: felt252, previous_admin_role: ContractAddress, new_admin_role: ContractAddress)++` [.item-kind]#event#

Emitted when `new_admin_role` is set as ``role`’s admin role, replacing `previous_admin_role`

`DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite
{RoleAdminChanged} not being emitted signaling this.

#### `[.contract-item-name]#++RoleGranted++#++(role: felt252, account: ContractAddress, sender: ContractAddress)++` [.item-kind]#event#

Emitted when `account` is granted `role`.

`sender` is the account that originated the contract call, an account with the admin role
or the deployer address if `_grant_role` is called from the constructor.

#### `[.contract-item-name]#++RoleRevoked++#++(role: felt252, account: ContractAddress, sender: ContractAddress)++` [.item-kind]#event#

Emitted when `account` is revoked `role`.

`sender` is the account that originated the contract call:

* if using `revoke_role`, it is the admin role bearer.
* if using `renounce_role`, it is the role bearer (i.e. `account`).

### `++IAccessControlWithDelay++` link:https://github.com/OpenZeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/interfaces/src/access/accesscontrol.cairo[pass:[<svg class="icon"><use href="#github-icon"/></svg>],role=heading-link]

```rust
use openzeppelin_interfaces::accesscontrol::IAccessControlWithDelay;
```

External interface for the extended `AccessControlWithDelay` functionality.

**Functions**

* [`+get_role_status(role, account)+`](#`[.contract-item-name]#++get_role_status++#++(role:-felt252,-account:-contractaddress)-→-rolestatus++`-[.item-kind]#external#)
* [`+grant_role_with_delay(role, account, delay)+`](#`[.contract-item-name]#++grant_role_with_delay++#++(role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#external#)

**Events**

* [`+RoleGrantedWithDelay(role, account, sender, delay)+`](#`[.contract-item-name]#++rolegrantedwithdelay++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress,-delay:-u64)++`-[.item-kind]#event#)

#### Functions

#### `[.contract-item-name]#++get_role_status++#++(role: felt252, account: ContractAddress) → RoleStatus++` [.item-kind]#external#

Returns the account’s status for the given role.
The possible statuses are:

* `NotGranted`: the role has not been granted to the account.
* `Delayed`: The role has been granted to the account but is not yet active due to a
time delay.
* `Effective`: the role has been granted to the account and is currently active.

#### `[.contract-item-name]#++grant_role_with_delay++#++(role: felt252, account: ContractAddress, delay: u64)++` [.item-kind]#external#

Attempts to grant `role` to `account` with the specified activation delay.

Requirements:

* The caller must have ``role`’s admin role.
* delay must be greater than 0.
* the `role` must not be already effective for `account`.

May emit a {RoleGrantedWithDelay} event.

#### Events

#### `[.contract-item-name]#++RoleGrantedWithDelay++#++(role: felt252, account: ContractAddress, sender: ContractAddress, delay: u64)++` [.item-kind]#event#

Emitted when `account` is granted `role` with a delay.

`sender` is the account that originated the contract call, an account with the admin role
or the deployer address if [_grant_role_with_delay](#`[.contract-item-name]#++_grant_role_with_delay++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#internal#) is called from the constructor.

### `++IAccessControlDefaultAdminRules++` link:https://github.com/OpenZeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/interfaces/src/access/accesscontrol_default_admin_rules.cairo[pass:[<svg class="icon"><use href="#github-icon"/></svg>],role=heading-link]

```rust
use openzeppelin_interfaces::accesscontrol_default_admin_rules::IAccessControlDefaultAdminRules;
```

External interface of AccessControlDefaultAdminRules declared to support [SRC5](https://github.com/starknet-io/SNIPs/blob/main/SNIPS/snip-5.md) detection.

**[SRC5 ID](api/introspection.adoc#ISRC5)**

0x3509b3083c9586afe5dae781146b0608c3846870510f8d4d21ae38676cc33eb

**Functions**

* [`+default_admin()+`](#`[.contract-item-name]#++default_admin++#++()-→-contractaddress++`-[.item-kind]#external#)
* [`+pending_default_admin()+`](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#)
* [`+default_admin_delay()+`](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#)
* [`+pending_default_admin_delay()+`](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#)
* [`+begin_default_admin_transfer(new_admin)+`](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#)
* [`+cancel_default_admin_transfer()+`](#`[.contract-item-name]#++cancel_default_admin_transfer++#++()++`-[.item-kind]#external#)
* [`+accept_default_admin_transfer()+`](#`[.contract-item-name]#++accept_default_admin_transfer++#++()++`-[.item-kind]#external#)
* [`+change_default_admin_delay(new_delay)+`](#`[.contract-item-name]#++change_default_admin_delay++#++(new_delay)++`-[.item-kind]#external#)
* [`+rollback_default_admin_delay()+`](#`[.contract-item-name]#++rollback_default_admin_delay++#++()++`-[.item-kind]#external#)
* [`+default_admin_delay_increase_wait()+`](#`[.contract-item-name]#++default_admin_delay_increase_wait++#++()-→-u64++`-[.item-kind]#external#)

**Events**

* [`+DefaultAdminTransferScheduled(new_admin, accept_schedule)+`](#`[.contract-item-name]#++defaultadmintransferscheduled++#++(new_admin:-contractaddress,-accept_schedule:-u64)++`-[.item-kind]#event#)
* [`+DefaultAdminTransferCanceled()+`](#`[.contract-item-name]#++defaultadmintransfercanceled++#++()++`-[.item-kind]#event#)
* [`+DefaultAdminDelayChangeScheduled(new_delay, effect_schedule)+`](#`[.contract-item-name]#++defaultadmindelaychangescheduled++#++(new_delay:-u64,-effect_schedule:-u64)++`-[.item-kind]#event#)
* [`+DefaultAdminDelayChangeCanceled()+`](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeCanceled)

#### Functions

#### `[.contract-item-name]#++default_admin++#++() → ContractAddress++` [.item-kind]#external#

Returns the address of the current `DEFAULT_ADMIN_ROLE` holder.

#### `[.contract-item-name]#++pending_default_admin++#++() → (ContractAddress, u64)++` [.item-kind]#external#

Returns a tuple of a `new_admin` and an `accept_schedule`.

After the `accept_schedule` passes, the `new_admin` will be able to accept the
`default_admin` role by calling [accept_default_admin_transfer](#`[.contract-item-name]#++accept_default_admin_transfer++#++()++`-[.item-kind]#external#), completing the role
transfer.

A zero value only in `accept_schedule` indicates no pending admin transfer.

<Callout>
A zero address `new_admin` means that `default_admin` is being renounced.
</Callout>

#### `[.contract-item-name]#++default_admin_delay++#++() → u64++` [.item-kind]#external#

Returns the delay required to schedule the acceptance of a `default_admin` transfer started.

This delay will be added to the current timestamp when calling
[begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#) to set the acceptance schedule.

<Callout>
If a delay change has been scheduled, it will take effect as soon as the schedule
</Callout>
passes, making this function return the new delay.

See [change_default_admin_delay](#`[.contract-item-name]#++change_default_admin_delay++#++(new_delay)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++pending_default_admin_delay++#++() → (u64, u64)++` [.item-kind]#external#

Returns a tuple of `new_delay` and an `effect_schedule`.

After the `effect_schedule` passes, the `new_delay` will get into effect immediately for
every new `default_admin` transfer started with [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#).

A zero value only in `effect_schedule` indicates no pending delay change.

<Callout>
A zero value only for `new_delay` means that the next [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#)
</Callout>
will be zero after the effect schedule.

#### `[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++` [.item-kind]#external#

Starts a `default_admin` transfer by setting a [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#) scheduled for
acceptance after the current timestamp plus a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#).

Requirements:

* Only can be called by the current `default_admin`.

Emits a [DefaultAdminTransferScheduled](#`[.contract-item-name]#++defaultadmintransferscheduled++#++(new_admin:-contractaddress,-accept_schedule:-u64)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++cancel_default_admin_transfer++#++()++` [.item-kind]#external#

Cancels a `default_admin` transfer previously started with [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#).

A [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#) not yet accepted can also be cancelled with this function.

Requirements:

* Only can be called by the current `default_admin`.

May emit a [DefaultAdminTransferCanceled](#`[.contract-item-name]#++defaultadmintransfercanceled++#++()++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++accept_default_admin_transfer++#++()++` [.item-kind]#external#

Completes a `default_admin` transfer previously started with [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#).

After calling the function:

* `DEFAULT_ADMIN_ROLE` must be granted to the caller.
* `DEFAULT_ADMIN_ROLE` must be revoked from the previous holder.
* [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#) must be reset to zero value.

Requirements:

* Only can be called by the [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#)'s `new_admin`.
* The [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#)'s `accept_schedule` should’ve passed.

#### `[.contract-item-name]#++change_default_admin_delay++#++(new_delay)++` [.item-kind]#external#

Initiates a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) update by setting a [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#)
scheduled to take effect after the current timestamp plus a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#).

This function guarantees that any call to [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#) done between the
timestamp this method is called and the [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#) effect schedule will
use the current [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) set before calling.

The [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#)'s effect schedule is defined in a way that waiting until
the schedule and then calling [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#) with the new delay will take at
least the same as another `default_admin` complete transfer (including acceptance).

The schedule is designed for two scenarios:

* When the delay is changed for a larger one the schedule is `block.timestamp + new delay`
capped by [default_admin_delay_increase_wait](#`[.contract-item-name]#++default_admin_delay_increase_wait++#++()-→-u64++`-[.item-kind]#external#).
* When the delay is changed for a shorter one, the schedule is `block.timestamp + (current
delay - new delay)`.

A [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#) that never got into effect will be canceled in favor of a
new scheduled change.

Requirements:

* Only can be called by the current `default_admin`.

Emits a [DefaultAdminDelayChangeScheduled](#`[.contract-item-name]#++defaultadmindelaychangescheduled++#++(new_delay:-u64,-effect_schedule:-u64)++`-[.item-kind]#event#) event and may emit a
[DefaultAdminDelayChangeCanceled](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeCanceled) event.

#### `[.contract-item-name]#++rollback_default_admin_delay++#++()++` [.item-kind]#external#

Cancels a scheduled [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) change.

Requirements:

* Only can be called by the current `default_admin`.

May emit a [DefaultAdminDelayChangeCanceled](#IAccessControlDefaultAdminRules-DefaultAdminDelayChangeCanceled) event.

#### `[.contract-item-name]#++default_admin_delay_increase_wait++#++() → u64++` [.item-kind]#external#

Maximum time in seconds for an increase to [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) (that is scheduled using
[change_default_admin_delay](#`[.contract-item-name]#++change_default_admin_delay++#++(new_delay)++`-[.item-kind]#external#)) to take effect. Defaults to 5 days.

When the [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) is scheduled to be increased, it goes into effect after the
new delay has passed with the purpose of giving enough time for reverting any accidental
change (i.e. using milliseconds instead of seconds)
that may lock the contract. However, to avoid excessive schedules, the wait is capped by
this function and it can be overridden for a custom [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) increase
scheduling.

<Callout type='warn'>
Make sure to add a reasonable amount of time while overriding this value,
</Callout>
otherwise, there’s a risk of setting a high new delay that goes into effect almost
immediately without the possibility of human intervention in the case of an input error
(e.g.
set milliseconds instead of seconds).

#### Events

#### `[.contract-item-name]#++DefaultAdminTransferScheduled++#++(new_admin: ContractAddress, accept_schedule: u64)++` [.item-kind]#event#

Emitted when a `default_admin` transfer is started.

Sets `new_admin` as the next address to become the `default_admin` by calling
[accept_default_admin_transfer](#`[.contract-item-name]#++accept_default_admin_transfer++#++()++`-[.item-kind]#external#) only after `accept_schedule` passes.

#### `[.contract-item-name]#++DefaultAdminTransferCanceled++#++()++` [.item-kind]#event#

Emitted when a [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#) is reset if it was never
accepted, regardless of its schedule.

#### `[.contract-item-name]#++DefaultAdminDelayChangeScheduled++#++(new_delay: u64, effect_schedule: u64)++` [.item-kind]#event#

Emitted when a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#) change is started.

Sets `new_delay` as the next delay to be applied between default admins transfers
after `effect_schedule` has passed.

Emitted when a [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#) is reset if its schedule didn’t pass.

## Core

### `++OwnableComponent++` link:https://github.com/OpenZeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/access/src/ownable/ownable.cairo[pass:[<svg class="icon"><use href="#github-icon"/></svg>],role=heading-link]

```rust
use openzeppelin_access::ownable::OwnableComponent;
```

`Ownable` provides a basic access control mechanism where an account
 (an owner) can be granted exclusive access to specific functions.

This module includes the internal `assert_only_owner` to restrict a function to be used only by the owner.

* [`+OwnableImpl+`](#OwnableComponent-Embeddable-Impls-OwnableImpl)
* [`+OwnableCamelOnlyImpl+`](#OwnableComponent-Embeddable-Impls-OwnableCamelOnlyImpl)

* [`+OwnableTwoStepImpl+`](#OwnableComponent-Embeddable-Impls-OwnableTwoStepImpl)
* [`+OwnableTwoStepCamelOnlyImpl+`](#OwnableComponent-Embeddable-Impls-OwnableTwoStepCamelOnlyImpl)

<a name="OwnableComponent-Embeddable-Impls"></a>**Embeddable Implementations**

* [`+owner(self)+`](#`[.contract-item-name]#++owner++#++(self:-@contractstate)-→-contractaddress++`-[.item-kind]#external#)
* [`+transfer_ownership(self, new_owner)+`](#`[.contract-item-name]#++transfer_ownership++#++(ref-self:-contractstate,-new_owner:-contractaddress)++`-[.item-kind]#external#)
* [`+renounce_ownership(self)+`](#`[.contract-item-name]#++renounce_ownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#)

* [`+owner(self)+`](#`[.contract-item-name]#++owner++#++(self:-@contractstate)-→-contractaddress++`-[.item-kind]#external#)
* [`+pending_owner(self)+`](#`[.contract-item-name]#++pending_owner++#++(self:-@contractstate)-→-contractaddress++`-[.item-kind]#external#)
* [`+accept_ownership(self)+`](#`[.contract-item-name]#++accept_ownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#)
* [`+transfer_ownership(self, new_owner)+`](#`[.contract-item-name]#++transfer_ownership++#++(ref-self:-contractstate,-new_owner:-contractaddress)++`-[.item-kind]#external#)
* [`+renounce_ownership(self)+`](#`[.contract-item-name]#++renounce_ownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#)

* [`+transferOwnership(self, newOwner)+`](#`[.contract-item-name]#++transferownership++#++(ref-self:-contractstate,-newowner:-contractaddress)++`-[.item-kind]#external#)
* [`+renounceOwnership(self)+`](#`[.contract-item-name]#++renounceownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#)

* [`+pendingOwner(self)+`](#`[.contract-item-name]#++pendingowner++#++(self:-@contractstate)++`-[.item-kind]#external#)
* [`+acceptOwnership(self)+`](#`[.contract-item-name]#++acceptownership++#++(self:-@contractstate)++`-[.item-kind]#external#)
* [`+transferOwnership(self, new_owner)+`](#`[.contract-item-name]#++transferownership++#++(self:-@contractstate)++`-[.item-kind]#external#)
* [`+renounceOwnership(self)+`](#`[.contract-item-name]#++renounceownership++#++(self:-@contractstate)++`-[.item-kind]#external#)

**Internal Implementations**

* [`+initializer(self, owner)+`](#`[.contract-item-name]#++initializer++#++(ref-self:-contractstate,-owner:-contractaddress)++`-[.item-kind]#internal#)
* [`+assert_only_owner(self)+`](#`[.contract-item-name]#++assert_only_owner++#++(self:-@contractstate)++`-[.item-kind]#internal#)
* [`+_transfer_ownership(self, new_owner)+`](#`[.contract-item-name]#++_transfer_ownership++#++(ref-self:-contractstate,-new_owner:-contractaddress)++`-[.item-kind]#internal#)
* [`+_propose_owner(self, new_owner)+`](#`[.contract-item-name]#++_propose_owner++#++(ref-self:-contractstate,-new_owner:-contractaddress)++`-[.item-kind]#internal#)

**Events**

* [`+OwnershipTransferStarted(previous_owner, new_owner)+`](#`[.contract-item-name]#++ownershiptransferstarted++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#)
* [`+OwnershipTransferred(previous_owner, new_owner)+`](#`[.contract-item-name]#++ownershiptransferred++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#)

#### Embeddable functions

#### `[.contract-item-name]#++owner++#++(self: @ContractState) → ContractAddress++` [.item-kind]#external#
Returns the address of the current owner.

#### `[.contract-item-name]#++transfer_ownership++#++(ref self: ContractState, new_owner: ContractAddress)++` [.item-kind]#external#

Transfers ownership of the contract to a new account (`new_owner`).
Can only be called by the current owner.

Emits an [OwnershipTransferred](#`[.contract-item-name]#++ownershiptransferred++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++renounce_ownership++#++(ref self: ContractState)++` [.item-kind]#external#
Leaves the contract without owner. It will not be possible to call
`assert_only_owner` functions anymore. Can only be called by the current owner.

<Callout>
Renouncing ownership will leave the contract without an owner,
</Callout>
thereby removing any functionality that is only available to the owner.

#### Embeddable functions (two step transfer)

#### `[.contract-item-name]#++owner++#++(self: @ContractState) → ContractAddress++` [.item-kind]#external#

#### `[.contract-item-name]#++pending_owner++#++(self: @ContractState) → ContractAddress++` [.item-kind]#external#

Returns the address of the pending owner.

#### `[.contract-item-name]#++accept_ownership++#++(ref self: ContractState)++` [.item-kind]#external#

Transfers ownership of the contract to the pending owner.
Can only be called by the pending owner.
Resets pending owner to zero address.

Emits an [OwnershipTransferred](#`[.contract-item-name]#++ownershiptransferred++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++transfer_ownership++#++(ref self: ContractState, new_owner: ContractAddress)++` [.item-kind]#external#

Starts the two step ownership transfer process, by setting the pending owner. Setting `new_owner` to the zero address is allowed, this can be used to cancel an initiated ownership transfer.

Can only be called by the current owner.

Emits an [OwnershipTransferStarted](#`[.contract-item-name]#++ownershiptransferstarted++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++renounce_ownership++#++(ref self: ContractState)++` [.item-kind]#external#

#### `[.contract-item-name]#++transferOwnership++#++(ref self: ContractState, newOwner: ContractAddress)++` [.item-kind]#external#

See [transfer_ownership](#`[.contract-item-name]#++transfer_ownership++#++(ref-self:-contractstate,-new_owner:-contractaddress)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++renounceOwnership++#++(ref self: ContractState)++` [.item-kind]#external#

See [renounce_ownership](#`[.contract-item-name]#++renounce_ownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++pendingOwner++#++(self: @ContractState)++` [.item-kind]#external#

See [pending_owner](#`[.contract-item-name]#++pending_owner++#++(self:-@contractstate)-→-contractaddress++`-[.item-kind]#external#).

#### `[.contract-item-name]#++acceptOwnership++#++(self: @ContractState)++` [.item-kind]#external#

See [accept_ownership](#`[.contract-item-name]#++accept_ownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++transferOwnership++#++(self: @ContractState)++` [.item-kind]#external#

See [transfer_ownership](#`[.contract-item-name]#++transfer_ownership++#++(ref-self:-contractstate,-new_owner:-contractaddress)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++renounceOwnership++#++(self: @ContractState)++` [.item-kind]#external#

See [renounce_ownership](#`[.contract-item-name]#++renounce_ownership++#++(ref-self:-contractstate)++`-[.item-kind]#external#).

#### Internal functions

#### `[.contract-item-name]#++initializer++#++(ref self: ContractState, owner: ContractAddress)++` [.item-kind]#internal#

Initializes the contract and sets `owner` as the initial owner.

Requirements:

* `owner` cannot be the zero address.

Emits an [OwnershipTransferred](#`[.contract-item-name]#++ownershiptransferred++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++assert_only_owner++#++(self: @ContractState)++` [.item-kind]#internal#

Panics if called by any account other than the owner.

#### `[.contract-item-name]#++_transfer_ownership++#++(ref self: ContractState, new_owner: ContractAddress)++` [.item-kind]#internal#

Transfers ownership of the contract to a new account (`new_owner`).
Internal function without access restriction.

Emits an [OwnershipTransferred](#`[.contract-item-name]#++ownershiptransferred++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++_propose_owner++#++(ref self: ContractState, new_owner: ContractAddress)++` [.item-kind]#internal#

Sets a new pending owner in a two step transfer.

Internal function without access restriction.

Emits an [OwnershipTransferStarted](#`[.contract-item-name]#++ownershiptransferstarted++#++(previous_owner:-contractaddress,-new_owner:-contractaddress)++`-[.item-kind]#event#) event.

#### Events

#### `[.contract-item-name]#++OwnershipTransferStarted++#++(previous_owner: ContractAddress, new_owner: ContractAddress)++` [.item-kind]#event#

Emitted when the pending owner is updated.

#### `[.contract-item-name]#++OwnershipTransferred++#++(previous_owner: ContractAddress, new_owner: ContractAddress)++` [.item-kind]#event#

Emitted when the ownership is transferred.

### `++AccessControlComponent++` link:https://github.com/OpenZeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/access/src/accesscontrol/accesscontrol.cairo[pass:[<svg class="icon"><use href="#github-icon"/></svg>],role=heading-link]

```rust
use openzeppelin_access::accesscontrol::AccessControlComponent;
```

Component that allows contracts to implement role-based access control mechanisms.
Roles are referred to by their `felt252` identifier:

```rust
const MY_ROLE: felt252 = selector!("MY_ROLE");
```

Roles can be used to represent a set of permissions. To restrict access to a
function call, use [`assert_only_role`](#`[.contract-item-name]#++assert_only_role++#++(self:-@contractstate,-role:-felt252)++`-[.item-kind]#internal#):

```rust
(...)

#[external(v0)]
fn foo(ref self: ContractState) {
    self.accesscontrol.assert_only_role(MY_ROLE);

    // Do something
}
```

Roles can be granted and revoked dynamically via the [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#), [grant_role_with_delay](#`[.contract-item-name]#++grant_role_with_delay++#++(role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#external#) and
[revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) functions. Each role has an associated admin role, and only
accounts that have a role’s admin role can call [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#), [grant_role_with_delay](#`[.contract-item-name]#++grant_role_with_delay++#++(role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#external#) and [revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

By default, the admin role for all roles is `DEFAULT_ADMIN_ROLE`, which means
that only accounts with this role will be able to grant or revoke other
roles. More complex role relationships can be created by using
[set_role_admin](#`[.contract-item-name]#++set_role_admin++#++(ref-self:-contractstate,-role:-felt252,-admin_role:-felt252)++`-[.item-kind]#internal#).

<Callout type='warn'>
The `DEFAULT_ADMIN_ROLE` is also its own admin: it has permission to
</Callout>
grant and revoke this role. Extra precautions should be taken to secure
accounts that have been granted it. See {AccessControlDefaultAdminRulesComponent}.

* [`+AccessControlImpl+`](#AccessControlComponent-Embeddable-Impls-AccessControlImpl)
* [`+AccessControlCamelImpl+`](#AccessControlComponent-Embeddable-Impls-AccessControlCamelImpl)
* [`+AccessControlWithDelayImpl+`](#AccessControlComponent-Embeddable-Impls-AccessControlWithDelayImpl)
* [`+SRC5Impl+`](api/introspection.adoc#SRC5Component-Embeddable-Impls)

<a name="AccessControlComponent-Embeddable-Impls"></a>**Embeddable Implementations**

* [`+has_role(self, role, account)+`](#`[.contract-item-name]#++has_role++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+get_role_admin(self, role)+`](#`[.contract-item-name]#++get_role_admin++#++(self:-@contractstate,-role:-felt252)-→-felt252++`-[.item-kind]#external#)
* [`+grant_role(self, role, account)+`](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+revoke_role(self, role, account)+`](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+renounce_role(self, role, account)+`](#`[.contract-item-name]#++renounce_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)

* [`+hasRole(self, role, account)+`](#`[.contract-item-name]#++hasrole++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+getRoleAdmin(self, role)+`](#`[.contract-item-name]#++getroleadmin++#++(self:-@contractstate,-role:-felt252)-→-felt252++`-[.item-kind]#external#)
* [`+grantRole(self, role, account)+`](#`[.contract-item-name]#++grantrole++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+revokeRole(self, role, account)+`](#`[.contract-item-name]#++revokerole++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+renounceRole(self, role, account)+`](#`[.contract-item-name]#++renouncerole++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)

* [`+get_role_status(self, role, account)+`](#`[.contract-item-name]#++get_role_status++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-rolestatus++`-[.item-kind]#external#)
* [`+grant_role_with_delay(self, role, account, delay)+`](#`[.contract-item-name]#++grant_role_with_delay++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#external#)

**SRC5Impl**

* [`supports_interface(self, interface_id: felt252)`](api/introspection.adoc#ISRC5-supports_interface)

**Internal Implementations**

* [`+initializer(self)+`](#`[.contract-item-name]#++initializer++#++(ref-self:-contractstate)++`-[.item-kind]#internal#)
* [`+assert_only_role(self, role)+`](#`[.contract-item-name]#++assert_only_role++#++(self:-@contractstate,-role:-felt252)++`-[.item-kind]#internal#)
* [`+is_role_effective(self, role, account)+`](#`[.contract-item-name]#++is_role_effective++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#internal#)
* [`+resolve_role_status(self, role, account)+`](#`[.contract-item-name]#++resolve_role_status++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-rolestatus++`-[.item-kind]#internal#)
* [`+is_role_granted(self, role, account)+`](#`[.contract-item-name]#++is_role_granted++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#internal#)
* [`+set_role_admin(self, role, admin_role)+`](#`[.contract-item-name]#++set_role_admin++#++(ref-self:-contractstate,-role:-felt252,-admin_role:-felt252)++`-[.item-kind]#internal#)
* [`+_grant_role(self, role, account)+`](#`[.contract-item-name]#++_grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#internal#)
* [`+_grant_role_with_delay(self, role, account, delay)+`](#`[.contract-item-name]#++_grant_role_with_delay++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#internal#)
* [`+_revoke_role(self, role, account)+`](#`[.contract-item-name]#++_revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#internal#)

**Events**

**IAccessControl**

* [`+RoleAdminChanged(role, previous_admin_role, new_admin_role)+`](#`[.contract-item-name]#++roleadminchanged++#++(role:-felt252,-previous_admin_role:-contractaddress,-new_admin_role:-contractaddress)++`-[.item-kind]#event#)
* [`+RoleGranted(role, account, sender)+`](#`[.contract-item-name]#++rolegranted++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#)
* [`+RoleRevoked(role, account, sender)+`](#`[.contract-item-name]#++rolerevoked++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#)

**IAccessControlWithDelay**

* [`+RoleGrantedWithDelay(role, account, sender, delay)+`](#`[.contract-item-name]#++rolegrantedwithdelay++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress,-delay:-u64)++`-[.item-kind]#event#)

#### Embeddable functions

#### `[.contract-item-name]#++has_role++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

Returns whether `account` can act as `role`.

#### `[.contract-item-name]#++get_role_admin++#++(self: @ContractState, role: felt252) → felt252++` [.item-kind]#external#

Returns the admin role that controls `role`. See [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) and
[revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

To change a role’s admin, use [set_role_admin](#`[.contract-item-name]#++set_role_admin++#++(ref-self:-contractstate,-role:-felt252,-admin_role:-felt252)++`-[.item-kind]#internal#).

#### `[.contract-item-name]#++get_role_status++#++(self: @ContractState, role: felt252, account: ContractAddress) → RoleStatus++` [.item-kind]#external#

Returns the account’s status for the given role.

The possible statuses are:

* `NotGranted`: the role has not been granted to the account.
* `Delayed`: The role has been granted to the account but is not yet active due to a
time delay.
* `Effective`: the role has been granted to the account and is currently active.

#### `[.contract-item-name]#++grant_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Grants `role` to `account`.

If `account` had not been already granted `role`, emits a {RoleGranted}
event.

Requirements:

* the caller must have ``role`’s admin role.

May emit a {RoleGranted} event.

#### `[.contract-item-name]#++grant_role_with_delay++#++(ref self: ContractState, role: felt252, account: ContractAddress, delay: u64)++` [.item-kind]#external#

Attempts to grant `role` to `account` with the specified activation delay.

Requirements:

* The caller must have `role’s admin role.
* delay must be greater than 0.
* the `role` must not be already effective for `account`.

May emit a {RoleGrantedWithDelay} event.

#### `[.contract-item-name]#++revoke_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Revokes `role` from `account`.

If `account` had been granted `role`, emits a {RoleRevoked} event.

Requirements:

* the caller must have ``role`’s admin role.

May emit a {RoleRevoked} event.

#### `[.contract-item-name]#++renounce_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Revokes `role` from the calling account.

Roles are often managed via [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) and [revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#). This function’s
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).

If the calling account had been revoked `role`, emits a {RoleRevoked}
event.

Requirements:

* the caller must be `account`.

May emit a {RoleRevoked} event.

#### `[.contract-item-name]#++supports_interface++#++(self: @ContractState, interface_id: felt252) → bool++` [.item-kind]#external#

See [ISRC5::supports_interface](api/introspection.adoc#ISRC5-supports_interface).

#### `[.contract-item-name]#++hasRole++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

See [has_role](#`[.contract-item-name]#++has_role++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#).

#### `[.contract-item-name]#++getRoleAdmin++#++(self: @ContractState, role: felt252) → felt252++` [.item-kind]#external#

See [get_role_admin](#`[.contract-item-name]#++get_role_admin++#++(self:-@contractstate,-role:-felt252)-→-felt252++`-[.item-kind]#external#).

#### `[.contract-item-name]#++grantRole++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

See [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++revokeRole++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

See [revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++renounceRole++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

See [renounce_role](#`[.contract-item-name]#++renounce_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

#### Internal functions

#### `[.contract-item-name]#++initializer++#++(ref self: ContractState)++` [.item-kind]#internal#

Initializes the contract by registering the [IAccessControl](#`++iaccesscontrol++`-link:https://github.com/openzeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/interfaces/src/access/accesscontrol.cairo[pass:[<svg-class="icon"><use-href="#github-icon"/></svg>],role=heading-link]) interface ID.

#### `[.contract-item-name]#++assert_only_role++#++(self: @ContractState, role: felt252)++` [.item-kind]#internal#

Validates that the caller can act as the given role. Otherwise it panics.

#### `[.contract-item-name]#++is_role_effective++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#internal#

Returns whether the account can act as the given role.

The account can act as the role if it is active and the `effective_from` time is before
or equal to the current time.

<Callout>
If the `effective_from` timepoint is 0, the role is effective immediately.
</Callout>
This is backwards compatible with implementations that didn’t use delays but
a single boolean flag.

#### `[.contract-item-name]#++resolve_role_status++#++(self: @ContractState, role: felt252, account: ContractAddress) → RoleStatus++` [.item-kind]#internal#

Returns the account’s status for the given role.

The possible statuses are:

* `NotGranted`: the role has not been granted to the account.
* `Delayed`: The role has been granted to the account but is not yet active due to a
time delay.
* `Effective`: the role has been granted to the account and is currently active.

#### `[.contract-item-name]#++is_role_granted++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#internal#

Returns whether the account has the given role granted.

<Callout>
The account may not be able to act as the role yet, if a delay was set and has not
</Callout>
passed yet. Use `is_role_effective` to check if the account can act as the role.

#### `[.contract-item-name]#++set_role_admin++#++(ref self: ContractState, role: felt252, admin_role: felt252)++` [.item-kind]#internal#

Sets `admin_role` as ``role`’s admin role.

Internal function without access restriction.

Emits a {RoleAdminChanged} event.

#### `[.contract-item-name]#++_grant_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#internal#

Attempts to grant `role` to `account`. The function does nothing if `role` is already
effective for `account`. If `role` has been granted to `account`, but is not yet active
due to a time delay, the delay is removed and `role` becomes effective immediately.

Internal function without access restriction.

May emit a {RoleGranted} event.

#### `[.contract-item-name]#++_grant_role_with_delay++#++(ref self: ContractState, role: felt252, account: ContractAddress, delay: u64)++` [.item-kind]#internal#

Attempts to grant `role` to `account` with the specified activation delay.

The role will become effective after the given delay has passed. If the role is already
active (`Effective`) for the account, the function will panic. If the role has been
granted but is not yet active (being in the `Delayed` state), the existing delay will be
overwritten with the new `delay`.

Internal function without access restriction.

Requirements:

* delay must be greater than 0.
* the `role` must not be already effective for `account`.

May emit a {RoleGrantedWithDelay} event.

#### `[.contract-item-name]#++_revoke_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#internal#

Revokes `role` from `account`.

Internal function without access restriction.

May emit a {RoleRevoked} event.

#### Events

#### `[.contract-item-name]#++RoleAdminChanged++#++(role: felt252, previous_admin_role: ContractAddress, new_admin_role: ContractAddress)++` [.item-kind]#event#

See [IAccessControl::RoleAdminChanged](#`[.contract-item-name]#++roleadminchanged++#++(role:-felt252,-previous_admin_role:-contractaddress,-new_admin_role:-contractaddress)++`-[.item-kind]#event#).

#### `[.contract-item-name]#++RoleGranted++#++(role: felt252, account: ContractAddress, sender: ContractAddress)++` [.item-kind]#event#

See [IAccessControl::RoleGranted](#`[.contract-item-name]#++rolegranted++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#).

#### `[.contract-item-name]#++RoleGrantedWithDelay++#++(role: felt252, account: ContractAddress, sender: ContractAddress, delay: u64)++` [.item-kind]#event#

See [IAccessControlWithDelay::RoleGrantedWithDelay](#`[.contract-item-name]#++rolegrantedwithdelay++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress,-delay:-u64)++`-[.item-kind]#event#).

#### `[.contract-item-name]#++RoleRevoked++#++(role: felt252, account: ContractAddress, sender: ContractAddress)++` [.item-kind]#event#

See [IAccessControl::RoleRevoked](#`[.contract-item-name]#++rolerevoked++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#).

## Extensions

### `++AccessControlDefaultAdminRulesComponent++` link:https://github.com/OpenZeppelin/cairo-contracts/blob/release-v3.0.0-alpha.0/packages/access/src/accesscontrol/extensions/accesscontrol_default_admin_rules.cairo[pass:[<svg class="icon"><use href="#github-icon"/></svg>],role=heading-link]

```rust
use openzeppelin_access::accesscontrol::extensions::AccessControlDefaultAdminRulesComponent;
```

Extension of {AccessControl} that allows specifying special rules to manage the `DEFAULT_ADMIN_ROLE` holder,
which is a sensitive role with special permissions over other roles that may potentially have
privileged rights in the system.

If a specific role doesn’t have an admin role assigned, the holder of the `DEFAULT_ADMIN_ROLE` will
have the ability to grant it and revoke it.

This contract implements the following risk mitigations on top of {AccessControl}:

* Only one account holds the `DEFAULT_ADMIN_ROLE` since deployment until it’s potentially renounced.
* Enforces a 2-step process to transfer the `DEFAULT_ADMIN_ROLE` to another account.
* Enforces a configurable delay between the two steps, with the ability to cancel before the transfer is accepted.
* The delay can be changed by scheduling, see [change_default_admin_delay](#`[.contract-item-name]#++change_default_admin_delay++#++(new_delay)++`-[.item-kind]#external#).
* It is not possible to use another role to manage the `DEFAULT_ADMIN_ROLE`.

* [`+AccessControlDefaultAdminRulesImpl+`](#AccessControlDefaultAdminRulesComponent-Embeddable-Impls-AccessControlDefaultAdminRulesImpl)
* [`+AccessControlImpl+`](#AccessControlDefaultAdminRulesComponent-Embeddable-Impls-AccessControlImpl)
* [`+AccessControlCamelImpl+`](#AccessControlDefaultAdminRulesComponent-Embeddable-Impls-AccessControlCamelImpl)
* [`+AccessControlWithDelayImpl+`](#AccessControlDefaultAdminRulesComponent-Embeddable-Impls-AccessControlWithDelayImpl)
* [`+SRC5Impl+`](api/introspection.adoc#SRC5Component-Embeddable-Impls)

<a name="AccessControlDefaultAdminRulesComponent-Embeddable-Impls"></a>**Embeddable Implementations**

* [`+default_admin(self)+`](#`[.contract-item-name]#++default_admin++#++()-→-contractaddress++`-[.item-kind]#external#)
* [`+pending_default_admin(self)+`](#`[.contract-item-name]#++pending_default_admin++#++()-→-(contractaddress,-u64)++`-[.item-kind]#external#)
* [`+default_admin_delay(self)+`](#`[.contract-item-name]#++default_admin_delay++#++()-→-u64++`-[.item-kind]#external#)
* [`+pending_default_admin_delay(self)+`](#`[.contract-item-name]#++pending_default_admin_delay++#++()-→-(u64,-u64)++`-[.item-kind]#external#)
* [`+begin_default_admin_transfer(self, new_admin)+`](#`[.contract-item-name]#++begin_default_admin_transfer++#++(new_admin)++`-[.item-kind]#external#)
* [`+cancel_default_admin_transfer(self)+`](#`[.contract-item-name]#++cancel_default_admin_transfer++#++()++`-[.item-kind]#external#)
* [`+accept_default_admin_transfer(self)+`](#`[.contract-item-name]#++accept_default_admin_transfer++#++()++`-[.item-kind]#external#)
* [`+change_default_admin_delay(self, new_delay)+`](#`[.contract-item-name]#++change_default_admin_delay++#++(new_delay)++`-[.item-kind]#external#)
* [`+rollback_default_admin_delay(self)+`](#`[.contract-item-name]#++rollback_default_admin_delay++#++()++`-[.item-kind]#external#)
* [`+default_admin_delay_increase_wait(self)+`](#`[.contract-item-name]#++default_admin_delay_increase_wait++#++()-→-u64++`-[.item-kind]#external#)

* [`+has_role(self, role, account)+`](#`[.contract-item-name]#++has_role++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+get_role_admin(self, role)+`](#`[.contract-item-name]#++get_role_admin++#++(self:-@contractstate,-role:-felt252)-→-felt252++`-[.item-kind]#external#)
* [`+grant_role(self, role, account)+`](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+revoke_role(self, role, account)+`](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+renounce_role(self, role, account)+`](#`[.contract-item-name]#++renounce_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)

* [`+hasRole(self, role, account)+`](#`[.contract-item-name]#++hasrole++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+getRoleAdmin(self, role)+`](#`[.contract-item-name]#++getroleadmin++#++(self:-@contractstate,-role:-felt252)-→-felt252++`-[.item-kind]#external#)
* [`+grantRole(self, role, account)+`](#`[.contract-item-name]#++grantrole++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+revokeRole(self, role, account)+`](#`[.contract-item-name]#++revokerole++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+renounceRole(self, role, account)+`](#`[.contract-item-name]#++renouncerole++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)

* [`+get_role_status(self, role, account)+`](#`[.contract-item-name]#++get_role_status++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-rolestatus++`-[.item-kind]#external#)
* [`+grant_role_with_delay(self, role, account, delay)+`](#`[.contract-item-name]#++grant_role_with_delay++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#external#)

**SRC5Impl**

* [`supports_interface(self, interface_id: felt252)`](api/introspection.adoc#ISRC5-supports_interface)

**Internal Implementations**

* [`+initializer(self, initial_delay, initial_default_admin)+`](#`[.contract-item-name]#++initializer++#++(ref-self:-contractstate,-initial_delay:-u64,-initial_default_admin:-contractaddress)++`-[.item-kind]#external#)
* [`+assert_only_role(self, role)+`](#`[.contract-item-name]#++assert_only_role++#++(self:-@contractstate,-role:-felt252)++`-[.item-kind]#external#)
* [`+is_role_effective(self, role, account)+`](#`[.contract-item-name]#++is_role_effective++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+resolve_role_status(self, role, account)+`](#`[.contract-item-name]#++resolve_role_status++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-rolestatus++`-[.item-kind]#external#)
* [`+is_role_granted(self, role, account)+`](#`[.contract-item-name]#++is_role_granted++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#)
* [`+set_role_admin(self, role, admin_role)+`](#`[.contract-item-name]#++set_role_admin++#++(ref-self:-contractstate,-role:-felt252,-admin_role:-felt252)++`-[.item-kind]#external#)
* [`+_grant_role(self, role, account)+`](#`[.contract-item-name]#++_grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+_grant_role_with_delay(self, role, account, delay)+`](#`[.contract-item-name]#++_grant_role_with_delay++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress,-delay:-u64)++`-[.item-kind]#external#)
* [`+_revoke_role(self, role, account)+`](#`[.contract-item-name]#++_revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#)
* [`+set_pending_default_admin(self, new_admin, new_schedule)+`](#`[.contract-item-name]#++set_pending_default_admin++#++(ref-self:-contractstate,-new_admin:-contractaddress,-new_schedule:-u64)++`-[.item-kind]#external#)
* [`+set_pending_delay(self, new_delay, new_schedule)+`](#`[.contract-item-name]#++set_pending_delay++#++(ref-self:-contractstate,-new_delay:-u64,-new_schedule:-u64)++`-[.item-kind]#external#)
* [`+delay_change_wait(self, new_delay)+`](#`[.contract-item-name]#++delay_change_wait++#++(self:-@contractstate,-new_delay:-u64)-→-u64++`-[.item-kind]#external#)

**Events**

**IAccessControl**

* [`+RoleAdminChanged(role, previous_admin_role, new_admin_role)+`](#`[.contract-item-name]#++roleadminchanged++#++(role:-felt252,-previous_admin_role:-felt252,-new_admin_role:-felt252)++`-[.item-kind]#event#)
* [`+RoleGranted(role, account, sender)+`](#`[.contract-item-name]#++rolegranted++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#)
* [`+RoleRevoked(role, account, sender)+`](#`[.contract-item-name]#++rolerevoked++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress)++`-[.item-kind]#event#)

**IAccessControlWithDelay**

* [`+RoleGrantedWithDelay(role, account, sender, delay)+`](#`[.contract-item-name]#++rolegrantedwithdelay++#++(role:-felt252,-account:-contractaddress,-sender:-contractaddress,-delay:-u64)++`-[.item-kind]#event#)

**IAccessControlDefaultAdminRules**

* [`+DefaultAdminTransferScheduled(new_admin, accept_schedule)+`](#`[.contract-item-name]#++defaultadmintransferscheduled++#++(new_admin:-contractaddress,-accept_schedule:-u64)++`-[.item-kind]#event#)
* [`+DefaultAdminTransferCanceled()+`](#`[.contract-item-name]#++defaultadmintransfercanceled++#++()++`-[.item-kind]#event#)
* [`+DefaultAdminDelayChangeScheduled(new_delay, effect_schedule)+`](#`[.contract-item-name]#++defaultadmindelaychangescheduled++#++(new_delay:-u64,-effect_schedule:-u64)++`-[.item-kind]#event#)
* [`+DefaultAdminDelayChangeCanceled()+`](#AccessControlDefaultAdminRulesComponent-DefaultAdminDelayChangeCanceled)

#### Embeddable functions

#### `[.contract-item-name]#++default_admin++#++(self: @ContractState) → ContractAddress++` [.item-kind]#external#

Returns the address of the current `DEFAULT_ADMIN_ROLE` holder.

#### `[.contract-item-name]#++pending_default_admin++#++(self: @ContractState) → (ContractAddress, u64)++` [.item-kind]#external#

Returns a tuple of a `new_admin` and an `accept_schedule`.

After the `accept_schedule` passes, the `new_admin` will be able to accept the
`default_admin` role by calling [accept_default_admin_transfer](#`[.contract-item-name]#++accept_default_admin_transfer++#++(ref-self:-contractstate)++`-[.item-kind]#external#), completing the role
transfer.

A zero value only in `accept_schedule` indicates no pending admin transfer.

<Callout>
A zero address `new_admin` means that `default_admin` is being renounced.
</Callout>

#### `[.contract-item-name]#++default_admin_delay++#++(self: @ContractState) → u64++` [.item-kind]#external#

Returns the delay required to schedule the acceptance of a `default_admin` transfer
started.

This delay will be added to the current timestamp when calling
[begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(ref-self:-contractstate,-new_admin:-contractaddress)++`-[.item-kind]#external#) to set the acceptance schedule.

<Callout>
If a delay change has been scheduled, it will take effect as soon as the schedule
</Callout>
passes, making this function returns the new delay.

See [change_default_admin_delay](#`[.contract-item-name]#++change_default_admin_delay++#++(ref-self:-contractstate,-new_delay:-u64)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++pending_default_admin_delay++#++(self: @ContractState) → (u64, u64)++` [.item-kind]#external#

Returns a tuple of `new_delay` and an `effect_schedule`.

After the `effect_schedule` passes, the `new_delay` will get into effect immediately for
every new `default_admin` transfer started with [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(ref-self:-contractstate,-new_admin:-contractaddress)++`-[.item-kind]#external#).

A zero value only in `effect_schedule` indicates no pending delay change.

<Callout>
A zero value only for `new_delay` means that the next [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#)
</Callout>
will be zero after the effect schedule.

#### `[.contract-item-name]#++begin_default_admin_transfer++#++(ref self: ContractState, new_admin: ContractAddress)++` [.item-kind]#external#

Starts a `default_admin` transfer by setting a [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++(self:-@contractstate)-→-(contractaddress,-u64)++`-[.item-kind]#external#) scheduled for
acceptance after the current timestamp plus a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#).

Requirements:

* Only can be called by the current `default_admin`.

Emits a [DefaultAdminTransferScheduled](#`[.contract-item-name]#++defaultadmintransferscheduled++#++(new_admin:-contractaddress,-accept_schedule:-u64)++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++cancel_default_admin_transfer++#++(ref self: ContractState)++` [.item-kind]#external#

Cancels a `default_admin` transfer previously started with [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(ref-self:-contractstate,-new_admin:-contractaddress)++`-[.item-kind]#external#).

A [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++(self:-@contractstate)-→-(contractaddress,-u64)++`-[.item-kind]#external#) not yet accepted can also be cancelled with this function.

Requirements:

* Only can be called by the current `default_admin`.

May emit a [DefaultAdminTransferCanceled](#`[.contract-item-name]#++defaultadmintransfercanceled++#++()++`-[.item-kind]#event#) event.

#### `[.contract-item-name]#++accept_default_admin_transfer++#++(ref self: ContractState)++` [.item-kind]#external#

Completes a `default_admin` transfer previously started with [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(ref-self:-contractstate,-new_admin:-contractaddress)++`-[.item-kind]#external#).

After calling the function:

* `DEFAULT_ADMIN_ROLE` must be granted to the caller.
* `DEFAULT_ADMIN_ROLE` must be revoked from the previous holder.
* [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++(self:-@contractstate)-→-(contractaddress,-u64)++`-[.item-kind]#external#) must be reset to zero values.

Requirements:

* Only can be called by the [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++(self:-@contractstate)-→-(contractaddress,-u64)++`-[.item-kind]#external#)'s `new_admin`.
* The [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++(self:-@contractstate)-→-(contractaddress,-u64)++`-[.item-kind]#external#)'s `accept_schedule` should’ve passed.

#### `[.contract-item-name]#++change_default_admin_delay++#++(ref self: ContractState, new_delay: u64)++` [.item-kind]#external#

Initiates a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#) update by setting a [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++(self:-@contractstate)-→-(u64,-u64)++`-[.item-kind]#external#)
scheduled for getting into effect after the current timestamp plus a
[default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#).

This function guarantees that any call to [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(ref-self:-contractstate,-new_admin:-contractaddress)++`-[.item-kind]#external#) done between
the timestamp this method is called and the [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++(self:-@contractstate)-→-(u64,-u64)++`-[.item-kind]#external#) effect
schedule will use the current [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#)
set before calling.

The [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++(self:-@contractstate)-→-(u64,-u64)++`-[.item-kind]#external#)'s effect schedule is defined in a way that waiting
until the schedule and then calling [begin_default_admin_transfer](#`[.contract-item-name]#++begin_default_admin_transfer++#++(ref-self:-contractstate,-new_admin:-contractaddress)++`-[.item-kind]#external#) with the new delay
will take at least the same as another `default_admin`
complete transfer (including acceptance).

The schedule is designed for two scenarios:

* When the delay is changed for a larger one the schedule is `block.timestamp\
new delay` capped by [default_admin_delay_increase_wait](#`[.contract-item-name]#++default_admin_delay_increase_wait++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#).
* When the delay is changed for a shorter one, the schedule is `block.timestamp\
(current delay - new delay)`.

A [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++(self:-@contractstate)-→-(u64,-u64)++`-[.item-kind]#external#) that never got into effect will be canceled in favor of
a new scheduled change.

Requirements:

* Only can be called by the current `default_admin`.

Emits a [DefaultAdminDelayChangeScheduled](#`[.contract-item-name]#++defaultadmindelaychangescheduled++#++(new_delay:-u64,-effect_schedule:-u64)++`-[.item-kind]#event#) event and may emit a
[DefaultAdminDelayChangeCanceled](#AccessControlDefaultAdminRulesComponent-DefaultAdminDelayChangeCanceled) event.

#### `[.contract-item-name]#++rollback_default_admin_delay++#++(ref self: ContractState)++` [.item-kind]#external#

Cancels a scheduled [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#) change.

Requirements:

* Only can be called by the current `default_admin`.

May emit a [DefaultAdminDelayChangeCanceled](#AccessControlDefaultAdminRulesComponent-DefaultAdminDelayChangeCanceled) event.

#### `[.contract-item-name]#++default_admin_delay_increase_wait++#++(self: @ContractState) → u64++` [.item-kind]#external#

Maximum time in seconds for an increase to [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#) (that is scheduled
using [change_default_admin_delay](#`[.contract-item-name]#++change_default_admin_delay++#++(ref-self:-contractstate,-new_delay:-u64)++`-[.item-kind]#external#)) to take effect. Defaults to 5 days.

When the [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#) is scheduled to be increased, it goes into effect after
the new delay has passed with the purpose of giving enough time for reverting any
accidental change (i.e. using milliseconds instead of seconds)
that may lock the contract. However, to avoid excessive schedules, the wait is capped by
this function and it can be overridden for a custom [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#) increase
scheduling.

<Callout type='warn'>
Make sure to add a reasonable amount of time while overriding this value,
</Callout>
otherwise, there’s a risk of setting a high new delay that goes into effect almost
immediately without the possibility of human intervention in the case of an input error
(eg. set milliseconds instead of seconds).

#### `[.contract-item-name]#++has_role++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

Returns whether `account` can act as `role`.

#### `[.contract-item-name]#++get_role_admin++#++(self: @ContractState, role: felt252) → felt252++` [.item-kind]#external#

Returns the admin role that controls `role`. See [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) and
[revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

To change a role’s admin, use [set_role_admin](#`[.contract-item-name]#++set_role_admin++#++(ref-self:-contractstate,-role:-felt252,-admin_role:-felt252)++`-[.item-kind]#internal#).

#### `[.contract-item-name]#++get_role_status++#++(self: @ContractState, role: felt252, account: ContractAddress) → RoleStatus++` [.item-kind]#external#

Returns the account’s status for the given role.

The possible statuses are:

* `NotGranted`: the role has not been granted to the account.
* `Delayed`: The role has been granted to the account but is not yet active due to a
time delay.
* `Effective`: the role has been granted to the account and is currently active.

#### `[.contract-item-name]#++grant_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Grants `role` to `account`.

If `account` had not been already granted `role`, emits a {RoleGranted}
event.

Requirements:

* the caller must have ``role`’s admin role.

May emit a {RoleGranted} event.

#### `[.contract-item-name]#++grant_role_with_delay++#++(ref self: ContractState, role: felt252, account: ContractAddress, delay: u64)++` [.item-kind]#external#

Attempts to grant `role` to `account` with the specified activation delay.

Requirements:

* The caller must have `role’s admin role.
* delay must be greater than 0.
* the `role` must not be already effective for `account`.

May emit a {RoleGrantedWithDelay} event.

#### `[.contract-item-name]#++revoke_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Revokes `role` from `account`.

If `account` had been granted `role`, emits a {RoleRevoked} event.

Requirements:

* the caller must have ``role`’s admin role.

May emit a {RoleRevoked} event.

#### `[.contract-item-name]#++renounce_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Revokes `role` from the calling account.

Roles are often managed via [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#) and [revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#). This function’s
purpose is to provide a mechanism for accounts to lose their privileges
if they are compromised (such as when a trusted device is misplaced).

If the calling account had been revoked `role`, emits a {RoleRevoked}
event.

Requirements:

* the caller must be `account`.

May emit a {RoleRevoked} event.

#### `[.contract-item-name]#++supports_interface++#++(self: @ContractState, interface_id: felt252) → bool++` [.item-kind]#external#

See [ISRC5::supports_interface](api/introspection.adoc#ISRC5-supports_interface).

#### `[.contract-item-name]#++hasRole++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

See [has_role](#`[.contract-item-name]#++has_role++#++(self:-@contractstate,-role:-felt252,-account:-contractaddress)-→-bool++`-[.item-kind]#external#).

#### `[.contract-item-name]#++getRoleAdmin++#++(self: @ContractState, role: felt252) → felt252++` [.item-kind]#external#

See [get_role_admin](#`[.contract-item-name]#++get_role_admin++#++(self:-@contractstate,-role:-felt252)-→-felt252++`-[.item-kind]#external#).

#### `[.contract-item-name]#++grantRole++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

See [grant_role](#`[.contract-item-name]#++grant_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++revokeRole++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

See [revoke_role](#`[.contract-item-name]#++revoke_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

#### `[.contract-item-name]#++renounceRole++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

See [renounce_role](#`[.contract-item-name]#++renounce_role++#++(ref-self:-contractstate,-role:-felt252,-account:-contractaddress)++`-[.item-kind]#external#).

#### Internal functions

#### `[.contract-item-name]#++initializer++#++(ref self: ContractState, initial_delay: u64, initial_default_admin: ContractAddress)++` [.item-kind]#external#

Initializes the contract by registering the IAccessControl interface ID and
setting the initial delay and default admin.

Requirements:

* `initial_default_admin` must not be the zero address.

#### `[.contract-item-name]#++assert_only_role++#++(self: @ContractState, role: felt252)++` [.item-kind]#external#

Validates that the caller can act as the given role. Otherwise it panics.

#### `[.contract-item-name]#++is_role_effective++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

Returns whether the account can act as the given role.

The account can act as the role if it is active and the `effective_from` time is before
or equal to the current time.

<Callout>
If the `effective_from` timepoint is 0, the role is effective immediately.
</Callout>
This is backwards compatible with implementations that didn’t use delays but
a single boolean flag.

#### `[.contract-item-name]#++resolve_role_status++#++(self: @ContractState, role: felt252, account: ContractAddress) → RoleStatus++` [.item-kind]#external#

Returns the account’s status for the given role.

The possible statuses are:

* `NotGranted`: the role has not been granted to the account.
* `Delayed`: The role has been granted to the account but is not yet active due to a
time delay.
* `Effective`: the role has been granted to the account and is currently active.

#### `[.contract-item-name]#++is_role_granted++#++(self: @ContractState, role: felt252, account: ContractAddress) → bool++` [.item-kind]#external#

Returns whether the account has the given role granted.

<Callout>
The account may not be able to act as the role yet, if a delay was set and has not
</Callout>
passed yet. Use {is_role_effective} to check if the account can act as the role.

#### `[.contract-item-name]#++set_role_admin++#++(ref self: ContractState, role: felt252, admin_role: felt252)++` [.item-kind]#external#

Sets `admin_role` as `role’s admin role.

Internal function without access restriction.

Requirements:

* `role` must not be `DEFAULT_ADMIN_ROLE`.

Emits a {RoleAdminChanged} event.

#### `[.contract-item-name]#++_grant_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Attempts to grant `role` to `account`. The function does nothing if `role` is already
effective for `account`. If `role` has been granted to `account`, but is not yet active
due to a time delay, the delay is removed and `role` becomes effective immediately.

Internal function without access restriction.

For `DEFAULT_ADMIN_ROLE`, it only allows granting if there isn’t already a
`default_admin`
or if the role has been previously renounced.

<Callout>
Exposing this function through another mechanism may make the `DEFAULT_ADMIN_ROLE`
</Callout>
assignable again. Make sure to guarantee this is the expected behavior in your
implementation.

May emit a {RoleGranted} event.

#### `[.contract-item-name]#++_grant_role_with_delay++#++(ref self: ContractState, role: felt252, account: ContractAddress, delay: u64)++` [.item-kind]#external#

Attempts to grant `role` to `account` with the specified activation delay.

The role will become effective after the given delay has passed. If the role is already
active (`Effective`) for the account, the function will panic. If the role has been
granted but is not yet active (being in the `Delayed` state), the existing delay will be
overwritten with the new `delay`.

Internal function without access restriction.

Requirements:

* `delay` must be greater than 0.
* the `role` must not be already effective for `account`.
* `role` must not be `DEFAULT_ADMIN_ROLE`.

May emit a {RoleGrantedWithDelay} event.

#### `[.contract-item-name]#++_revoke_role++#++(ref self: ContractState, role: felt252, account: ContractAddress)++` [.item-kind]#external#

Attempts to revoke `role` from `account`. The function does nothing if `role` is not
effective for `account`. If `role` has been revoked from `account`, but is still active
due to a time delay, the delay is removed and `role` becomes inactive immediately.

Internal function without access restriction.

May emit a {RoleRevoked} event.

#### `[.contract-item-name]#++set_pending_default_admin++#++(ref self: ContractState, new_admin: ContractAddress, new_schedule: u64)++` [.item-kind]#external#

Setter of the tuple for pending admin and its schedule.

May emit a {DefaultAdminTransferCanceled} event.

#### `[.contract-item-name]#++set_pending_delay++#++(ref self: ContractState, new_delay: u64, new_schedule: u64)++` [.item-kind]#external#

Setter of the tuple for pending delay and its schedule.

May emit a {DefaultAdminDelayChangeCanceled} event.

#### `[.contract-item-name]#++delay_change_wait++#++(self: @ContractState, new_delay: u64) → u64++` [.item-kind]#external#

Returns the amount of seconds to wait after the `new_delay` will
become the new `default_admin_delay`.

The value returned guarantees that if the delay is reduced, it will go into effect
after a wait that honors the previously set delay.

See [default_admin_delay_increase_wait](#`[.contract-item-name]#++default_admin_delay_increase_wait++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#).

#### Events

#### `[.contract-item-name]#++RoleAdminChanged++#++(role: felt252, previous_admin_role: felt252, new_admin_role: felt252)++` [.item-kind]#event#

Emitted when `new_admin_role` is set as `role’s admin role, replacing `previous_admin_role`

`DEFAULT_ADMIN_ROLE` is the starting admin for all roles, despite
`RoleAdminChanged` not being emitted signaling this.

#### `[.contract-item-name]#++RoleGranted++#++(role: felt252, account: ContractAddress, sender: ContractAddress)++` [.item-kind]#event#

Emitted when `account` is granted `role`.

`sender` is the account that originated the contract call, an account with the admin role
or the deployer address if `_grant_role` is called from the constructor.

#### `[.contract-item-name]#++RoleRevoked++#++(role: felt252, account: ContractAddress, sender: ContractAddress)++` [.item-kind]#event#

Emitted when `role` is revoked for `account`.

`sender` is the account that originated the contract call:

* If using `revoke_role`, it is the admin role bearer.
* If using `renounce_role`, it is the role bearer (i.e. `account`).

#### `[.contract-item-name]#++RoleGrantedWithDelay++#++(role: felt252, account: ContractAddress, sender: ContractAddress, delay: u64)++` [.item-kind]#event#

Emitted when `account` is granted `role` with a delay.

`sender` is the account that originated the contract call, an account with the admin role
or the deployer address if `_grant_role_with_delay` is called from the constructor.

#### `[.contract-item-name]#++DefaultAdminTransferScheduled++#++(new_admin: ContractAddress, accept_schedule: u64)++` [.item-kind]#event#

Emitted when a `default_admin` transfer is started.

Sets `new_admin` as the next address to become the `default_admin` by calling
[accept_default_admin_transfer](#`[.contract-item-name]#++accept_default_admin_transfer++#++(ref-self:-contractstate)++`-[.item-kind]#external#) only after `accept_schedule` passes.

#### `[.contract-item-name]#++DefaultAdminTransferCanceled++#++()++` [.item-kind]#event#

Emitted when a [pending_default_admin](#`[.contract-item-name]#++pending_default_admin++#++(self:-@contractstate)-→-(contractaddress,-u64)++`-[.item-kind]#external#) is reset if it was never
accepted, regardless of its schedule.

#### `[.contract-item-name]#++DefaultAdminDelayChangeScheduled++#++(new_delay: u64, effect_schedule: u64)++` [.item-kind]#event#

Emitted when a [default_admin_delay](#`[.contract-item-name]#++default_admin_delay++#++(self:-@contractstate)-→-u64++`-[.item-kind]#external#) change is started.

Sets `new_delay` as the next delay to be applied between default admins transfers
after `effect_schedule` has passed.

Emitted when a [pending_default_admin_delay](#`[.contract-item-name]#++pending_default_admin_delay++#++(self:-@contractstate)-→-(u64,-u64)++`-[.item-kind]#external#) is reset if its schedule didn’t pass.
