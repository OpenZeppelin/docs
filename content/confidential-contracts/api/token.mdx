---
title: "Token"
description: "Smart contract token utilities and implementations"
---

This set of interfaces, contracts, and utilities are all related to `ERC7984`, an evolving confidential token standard. The standard utilizes the Zama fhEVM co-processor for manipulating FHE values. All amounts are stored on-chain as ciphertext handles (or pointers) to values stored on the co-processor.

* [`ERC7984`](#ERC7984): Implementation of [`IERC7984`](interfaces#IERC7984).
* [`ERC7984ERC20Wrapper`](#ERC7984ERC20Wrapper): Extension of [`ERC7984`](#ERC7984) which wraps an `ERC20` into a confidential token. The wrapper allows for free conversion in both directions at a fixed rate.
* [`ERC7984Freezable`](#ERC7984Freezable): An extension of [`ERC7984`](#ERC7984), which allows accounts granted the "freezer" role to freeze and unfreeze tokens.
* [`ERC7984ObserverAccess`](#ERC7984ObserverAccess): An extension of [`ERC7984`](#ERC7984), which allows each account to add an observer who is given access to their transfer and balance amounts.
* [`ERC7984Restricted`](#ERC7984Restricted): An extension of [`ERC7984`](#ERC7984) that implements user account transfer restrictions.
* [`ERC7984Utils`](#ERC7984Utils): A library that provides the on-transfer callback check used by [`ERC7984`](#ERC7984).

## Core
[`ERC7984`](#ERC7984)

## Extensions
[`ERC7984ERC20Wrapper`](#ERC7984ERC20Wrapper)
[`ERC7984Freezable`](#ERC7984Freezable)
[`ERC7984ObserverAccess`](#ERC7984ObserverAccess)
[`ERC7984Restricted`](#ERC7984Restricted)

## Utilities
[`ERC7984Utils`](#ERC7984Utils)

<a id="ERC7984"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/ERC7984.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/ERC7984.sol";
```

Reference implementation for [`IERC7984`](interfaces#IERC7984).

This contract implements a fungible token where balances and transfers are encrypted using the Zama fhEVM,
providing confidentiality to users. Token amounts are stored as encrypted, unsigned integers (`euint64`)
that can only be decrypted by authorized parties.

Key features:

- All balances are encrypted
- Transfers happen without revealing amounts
- Support for operators (delegated transfer capabilities with time bounds)
- Transfer and call pattern
- Safe overflow/underflow handling for FHE operations

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(name_, symbol_, tokenURI_)](#ERC7984-constructor-string-string-string-)
- [name()](#ERC7984-name--)
- [symbol()](#ERC7984-symbol--)
- [decimals()](#ERC7984-decimals--)
- [tokenURI()](#ERC7984-tokenURI--)
- [confidentialTotalSupply()](#ERC7984-confidentialTotalSupply--)
- [confidentialBalanceOf(account)](#ERC7984-confidentialBalanceOf-address-)
- [isOperator(holder, spender)](#ERC7984-isOperator-address-address-)
- [setOperator(operator, until)](#ERC7984-setOperator-address-uint48-)
- [confidentialTransfer(to, encryptedAmount, inputProof)](#ERC7984-confidentialTransfer-address-externalEuint64-bytes-)
- [confidentialTransfer(to, amount)](#ERC7984-confidentialTransfer-address-euint64-)
- [confidentialTransferFrom(from, to, encryptedAmount, inputProof)](#ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-)
- [confidentialTransferFrom(from, to, amount)](#ERC7984-confidentialTransferFrom-address-address-euint64-)
- [confidentialTransferAndCall(to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-)
- [confidentialTransferAndCall(to, amount, data)](#ERC7984-confidentialTransferAndCall-address-euint64-bytes-)
- [confidentialTransferFromAndCall(from, to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-)
- [confidentialTransferFromAndCall(from, to, amount, data)](#ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-)
- [discloseEncryptedAmount(encryptedAmount)](#ERC7984-discloseEncryptedAmount-euint64-)
- [finalizeDiscloseEncryptedAmount(requestId, amount, signatures)](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
- [_setOperator(holder, operator, until)](#ERC7984-_setOperator-address-address-uint48-)
- [_mint(to, amount)](#ERC7984-_mint-address-euint64-)
- [_burn(from, amount)](#ERC7984-_burn-address-euint64-)
- [_transfer(from, to, amount)](#ERC7984-_transfer-address-address-euint64-)
- [_transferAndCall(from, to, amount, data)](#ERC7984-_transferAndCall-address-address-euint64-bytes-)
- [_update(from, to, amount)](#ERC7984-_update-address-address-euint64-)
#### IERC7984
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
#### IERC7984
- [OperatorSet(holder, operator, until)](#IERC7984-OperatorSet-address-address-uint48-)
- [ConfidentialTransfer(from, to, amount)](#IERC7984-ConfidentialTransfer-address-address-euint64-)
- [AmountDisclosed(encryptedAmount, amount)](#IERC7984-AmountDisclosed-euint64-uint64-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
- [ERC7984InvalidReceiver(receiver)](#ERC7984-ERC7984InvalidReceiver-address-)
- [ERC7984InvalidSender(sender)](#ERC7984-ERC7984InvalidSender-address-)
- [ERC7984UnauthorizedSpender(holder, spender)](#ERC7984-ERC7984UnauthorizedSpender-address-address-)
- [ERC7984ZeroBalance(holder)](#ERC7984-ERC7984ZeroBalance-address-)
- [ERC7984UnauthorizedUseOfEncryptedAmount(amount, user)](#ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-)
- [ERC7984UnauthorizedCaller(caller)](#ERC7984-ERC7984UnauthorizedCaller-address-)
- [ERC7984InvalidGatewayRequest(requestId)](#ERC7984-ERC7984InvalidGatewayRequest-uint256-)
#### IERC7984
</div>
</div>

<a id="ERC7984-constructor-string-string-string-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(string name_, string symbol_, string tokenURI_)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-constructor-string-string-string-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-name--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">name() → string</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-name--">#</a>
</div>
</div>
<div className="px-4">

Returns the name of the token.

</div>
</div>

<a id="ERC7984-symbol--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">symbol() → string</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-symbol--">#</a>
</div>
</div>
<div className="px-4">

Returns the symbol of the token.

</div>
</div>

<a id="ERC7984-decimals--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">decimals() → uint8</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-decimals--">#</a>
</div>
</div>
<div className="px-4">

Returns the number of decimals of the token. Recommended to be 6.

</div>
</div>

<a id="ERC7984-tokenURI--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">tokenURI() → string</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-tokenURI--">#</a>
</div>
</div>
<div className="px-4">

Returns the token URI.

</div>
</div>

<a id="ERC7984-confidentialTotalSupply--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTotalSupply() → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTotalSupply--">#</a>
</div>
</div>
<div className="px-4">

Returns the confidential total supply of the token.

</div>
</div>

<a id="ERC7984-confidentialBalanceOf-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialBalanceOf(address account) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialBalanceOf-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the confidential balance of the account `account`.

</div>
</div>

<a id="ERC7984-isOperator-address-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">isOperator(address holder, address spender) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-isOperator-address-address-">#</a>
</div>
</div>
<div className="px-4">

Returns true if `spender` is currently an operator for `holder`.

</div>
</div>

<a id="ERC7984-setOperator-address-uint48-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">setOperator(address operator, uint48 until)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-setOperator-address-uint48-">#</a>
</div>
</div>
<div className="px-4">

Sets `operator` as an operator for `holder` until the timestamp `until`.

NOTE: An operator may transfer any amount of tokens on behalf of a holder while approved.

</div>
</div>

<a id="ERC7984-confidentialTransfer-address-externalEuint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransfer(address to, externalEuint64 encryptedAmount, bytes inputProof) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransfer-address-externalEuint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

Transfers the encrypted amount `encryptedAmount` to `to` with the given input proof `inputProof`.

Returns the encrypted amount that was actually transferred.

</div>
</div>

<a id="ERC7984-confidentialTransfer-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransfer(address to, euint64 amount) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransfer-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

Similar to interfaces#IERC7984-confidentialTransfer-address-externalEuint64-bytes- but without an input proof. The caller
*must* already be allowed by ACL for the given `amount`.

</div>
</div>

<a id="ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransferFrom(address from, address to, externalEuint64 encryptedAmount, bytes inputProof) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

Transfers the encrypted amount `encryptedAmount` from `from` to `to` with the given input proof
`inputProof`. `msg.sender` must be either `from` or an operator for `from`.

Returns the encrypted amount that was actually transferred.

</div>
</div>

<a id="ERC7984-confidentialTransferFrom-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransferFrom(address from, address to, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransferFrom-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

Similar to interfaces#IERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes- but without an input proof.
The caller *must* be already allowed by ACL for the given `amount`.

</div>
</div>

<a id="ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransferAndCall(address to, externalEuint64 encryptedAmount, bytes inputProof, bytes data) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-">#</a>
</div>
</div>
<div className="px-4">

Similar to interfaces#IERC7984-confidentialTransfer-address-externalEuint64-bytes- but with a callback to `to` after
the transfer.

The callback is made to the [`IERC7984Receiver.onConfidentialTransferReceived`](interfaces#IERC7984Receiver-onConfidentialTransferReceived-address-address-euint64-bytes-) function on the
to address with the actual transferred amount (may differ from the given `encryptedAmount`) and the given
data `data`.

</div>
</div>

<a id="ERC7984-confidentialTransferAndCall-address-euint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransferAndCall(address to, euint64 amount, bytes data) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransferAndCall-address-euint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

Similar to interfaces#IERC7984-confidentialTransfer-address-euint64- but with a callback to `to` after the transfer.

</div>
</div>

<a id="ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransferFromAndCall(address from, address to, externalEuint64 encryptedAmount, bytes inputProof, bytes data) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-">#</a>
</div>
</div>
<div className="px-4">

Similar to interfaces#IERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes- but with a callback to `to`
after the transfer.

</div>
</div>

<a id="ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTransferFromAndCall(address from, address to, euint64 amount, bytes data) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

Similar to interfaces#IERC7984-confidentialTransferFrom-address-address-euint64- but with a callback to `to`
after the transfer.

</div>
</div>

<a id="ERC7984-discloseEncryptedAmount-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">discloseEncryptedAmount(euint64 encryptedAmount)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-discloseEncryptedAmount-euint64-">#</a>
</div>
</div>
<div className="px-4">

Discloses an encrypted amount `encryptedAmount` publicly via an [`IERC7984.AmountDisclosed`](interfaces#IERC7984-AmountDisclosed-euint64-uint64-)
event. The caller and this contract must be authorized to use the encrypted amount on the ACL.

NOTE: This is an asynchronous operation where the actual decryption happens off-chain and
[`ERC7984.finalizeDiscloseEncryptedAmount`](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---) is called with the result.

</div>
</div>

<a id="ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">finalizeDiscloseEncryptedAmount(uint256 requestId, uint64 amount, bytes[] signatures)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---">#</a>
</div>
</div>
<div className="px-4">

Finalizes a disclose encrypted amount request.
For gas saving purposes, the `requestId` might not be related to a
[`ERC7984.discloseEncryptedAmount`](#ERC7984-discloseEncryptedAmount-euint64-) request. As a result, the current [`ERC7984.finalizeDiscloseEncryptedAmount`](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
function might emit a disclosed amount related to another decryption request context.
In this case it would only display public information
since the handle would have already been allowed for public decryption through a previous
`FHE.requestDecryption` call.
The downside of this behavior is that a [`ERC7984.finalizeDiscloseEncryptedAmount`](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---) watcher might observe
unexpected `AmountDisclosed` events.

</div>
</div>

<a id="ERC7984-_setOperator-address-address-uint48-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_setOperator(address holder, address operator, uint48 until)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-_setOperator-address-address-uint48-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-_mint-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_mint(address to, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-_mint-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-_burn-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_burn(address from, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-_burn-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-_transfer-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_transfer(address from, address to, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-_transfer-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-_transferAndCall-address-address-euint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_transferAndCall(address from, address to, euint64 amount, bytes data) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-_transferAndCall-address-address-euint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-_update-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_update(address from, address to, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984-_update-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984-ERC7984InvalidReceiver-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984InvalidReceiver(address receiver)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984InvalidReceiver-address-">#</a>
</div>
</div>
<div className="px-4">

The given receiver `receiver` is invalid for transfers.

</div>
</div>

<a id="ERC7984-ERC7984InvalidSender-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984InvalidSender(address sender)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984InvalidSender-address-">#</a>
</div>
</div>
<div className="px-4">

The given sender `sender` is invalid for transfers.

</div>
</div>

<a id="ERC7984-ERC7984UnauthorizedSpender-address-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984UnauthorizedSpender(address holder, address spender)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984UnauthorizedSpender-address-address-">#</a>
</div>
</div>
<div className="px-4">

The given holder `holder` is not authorized to spend on behalf of `spender`.

</div>
</div>

<a id="ERC7984-ERC7984ZeroBalance-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984ZeroBalance(address holder)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984ZeroBalance-address-">#</a>
</div>
</div>
<div className="px-4">

The holder `holder` is trying to send tokens but has a balance of 0.

</div>
</div>

<a id="ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984UnauthorizedUseOfEncryptedAmount(euint64 amount, address user)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-">#</a>
</div>
</div>
<div className="px-4">

The caller `user` does not have access to the encrypted amount `amount`.

NOTE: Try using the equivalent transfer function with an input proof.

</div>
</div>

<a id="ERC7984-ERC7984UnauthorizedCaller-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984UnauthorizedCaller(address caller)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984UnauthorizedCaller-address-">#</a>
</div>
</div>
<div className="px-4">

The given caller `caller` is not authorized for the current operation.

</div>
</div>

<a id="ERC7984-ERC7984InvalidGatewayRequest-uint256-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984InvalidGatewayRequest(uint256 requestId)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984-ERC7984InvalidGatewayRequest-uint256-">#</a>
</div>
</div>
<div className="px-4">

The given gateway request ID `requestId` is invalid.

</div>
</div>

<a id="ERC7984ERC20Wrapper"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984ERC20Wrapper` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/extensions/ERC7984ERC20Wrapper.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/extensions/ERC7984ERC20Wrapper.sol";
```

A wrapper contract built on top of [`ERC7984`](#ERC7984) that allows wrapping an `ERC20` token
into an `ERC7984` token. The wrapper contract implements the `IERC1363Receiver` interface
which allows users to transfer `ERC1363` tokens directly to the wrapper with a callback to wrap the tokens.

<Callout type="warn">
Minting assumes the full amount of the underlying token transfer has been received, hence some non-standard
</Callout>
tokens such as fee-on-transfer or other deflationary-type tokens are not supported by this wrapper.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(underlying_)](#ERC7984ERC20Wrapper-constructor-contract-IERC20-)
- [decimals()](#ERC7984ERC20Wrapper-decimals--)
- [rate()](#ERC7984ERC20Wrapper-rate--)
- [underlying()](#ERC7984ERC20Wrapper-underlying--)
- [onTransferReceived(, from, amount, data)](#ERC7984ERC20Wrapper-onTransferReceived-address-address-uint256-bytes-)
- [wrap(to, amount)](#ERC7984ERC20Wrapper-wrap-address-uint256-)
- [unwrap(from, to, amount)](#ERC7984ERC20Wrapper-unwrap-address-address-euint64-)
- [unwrap(from, to, encryptedAmount, inputProof)](#ERC7984ERC20Wrapper-unwrap-address-address-externalEuint64-bytes-)
- [finalizeUnwrap(requestID, amount, signatures)](#ERC7984ERC20Wrapper-finalizeUnwrap-uint256-uint64-bytes---)
- [_unwrap(from, to, amount)](#ERC7984ERC20Wrapper-_unwrap-address-address-euint64-)
- [_fallbackUnderlyingDecimals()](#ERC7984ERC20Wrapper-_fallbackUnderlyingDecimals--)
- [_maxDecimals()](#ERC7984ERC20Wrapper-_maxDecimals--)
#### IERC1363Receiver
#### ERC7984
- [name()](#ERC7984-name--)
- [symbol()](#ERC7984-symbol--)
- [tokenURI()](#ERC7984-tokenURI--)
- [confidentialTotalSupply()](#ERC7984-confidentialTotalSupply--)
- [confidentialBalanceOf(account)](#ERC7984-confidentialBalanceOf-address-)
- [isOperator(holder, spender)](#ERC7984-isOperator-address-address-)
- [setOperator(operator, until)](#ERC7984-setOperator-address-uint48-)
- [confidentialTransfer(to, encryptedAmount, inputProof)](#ERC7984-confidentialTransfer-address-externalEuint64-bytes-)
- [confidentialTransfer(to, amount)](#ERC7984-confidentialTransfer-address-euint64-)
- [confidentialTransferFrom(from, to, encryptedAmount, inputProof)](#ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-)
- [confidentialTransferFrom(from, to, amount)](#ERC7984-confidentialTransferFrom-address-address-euint64-)
- [confidentialTransferAndCall(to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-)
- [confidentialTransferAndCall(to, amount, data)](#ERC7984-confidentialTransferAndCall-address-euint64-bytes-)
- [confidentialTransferFromAndCall(from, to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-)
- [confidentialTransferFromAndCall(from, to, amount, data)](#ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-)
- [discloseEncryptedAmount(encryptedAmount)](#ERC7984-discloseEncryptedAmount-euint64-)
- [finalizeDiscloseEncryptedAmount(requestId, amount, signatures)](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
- [_setOperator(holder, operator, until)](#ERC7984-_setOperator-address-address-uint48-)
- [_mint(to, amount)](#ERC7984-_mint-address-euint64-)
- [_burn(from, amount)](#ERC7984-_burn-address-euint64-)
- [_transfer(from, to, amount)](#ERC7984-_transfer-address-address-euint64-)
- [_transferAndCall(from, to, amount, data)](#ERC7984-_transferAndCall-address-address-euint64-bytes-)
- [_update(from, to, amount)](#ERC7984-_update-address-address-euint64-)
#### IERC7984
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
#### IERC1363Receiver
#### ERC7984
#### IERC7984
- [OperatorSet(holder, operator, until)](#IERC7984-OperatorSet-address-address-uint48-)
- [ConfidentialTransfer(from, to, amount)](#IERC7984-ConfidentialTransfer-address-address-euint64-)
- [AmountDisclosed(encryptedAmount, amount)](#IERC7984-AmountDisclosed-euint64-uint64-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
#### IERC1363Receiver
#### ERC7984
- [ERC7984InvalidReceiver(receiver)](#ERC7984-ERC7984InvalidReceiver-address-)
- [ERC7984InvalidSender(sender)](#ERC7984-ERC7984InvalidSender-address-)
- [ERC7984UnauthorizedSpender(holder, spender)](#ERC7984-ERC7984UnauthorizedSpender-address-address-)
- [ERC7984ZeroBalance(holder)](#ERC7984-ERC7984ZeroBalance-address-)
- [ERC7984UnauthorizedUseOfEncryptedAmount(amount, user)](#ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-)
- [ERC7984UnauthorizedCaller(caller)](#ERC7984-ERC7984UnauthorizedCaller-address-)
- [ERC7984InvalidGatewayRequest(requestId)](#ERC7984-ERC7984InvalidGatewayRequest-uint256-)
#### IERC7984
</div>
</div>

<a id="ERC7984ERC20Wrapper-constructor-contract-IERC20-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(contract IERC20 underlying_)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-constructor-contract-IERC20-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984ERC20Wrapper-decimals--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">decimals() → uint8</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-decimals--">#</a>
</div>
</div>
<div className="px-4">

Returns the number of decimals of the token. Recommended to be 6.

</div>
</div>

<a id="ERC7984ERC20Wrapper-rate--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">rate() → uint256</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-rate--">#</a>
</div>
</div>
<div className="px-4">

Returns the rate at which the underlying token is converted to the wrapped token.
For example, if the `rate` is 1000, then 1000 units of the underlying token equal 1 unit of the wrapped token.

</div>
</div>

<a id="ERC7984ERC20Wrapper-underlying--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">underlying() → contract IERC20</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-underlying--">#</a>
</div>
</div>
<div className="px-4">

Returns the address of the underlying ERC-20 token that is being wrapped.

</div>
</div>

<a id="ERC7984ERC20Wrapper-onTransferReceived-address-address-uint256-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">onTransferReceived(address, address from, uint256 amount, bytes data) → bytes4</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-onTransferReceived-address-address-uint256-bytes-">#</a>
</div>
</div>
<div className="px-4">

`ERC1363` callback function which wraps tokens to the address specified in `data` or
the address `from` (if no address is specified in `data`). This function refunds any excess tokens
sent beyond the nearest multiple of [`ERC7984ERC20Wrapper.rate`](#ERC7984ERC20Wrapper-rate--). See [`ERC7984ERC20Wrapper.wrap`](#ERC7984ERC20Wrapper-wrap-address-uint256-) from more details on wrapping tokens.

</div>
</div>

<a id="ERC7984ERC20Wrapper-wrap-address-uint256-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">wrap(address to, uint256 amount)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-wrap-address-uint256-">#</a>
</div>
</div>
<div className="px-4">

Wraps amount `amount` of the underlying token into a confidential token and sends it to
`to`. Tokens are exchanged at a fixed rate specified by [`ERC7984ERC20Wrapper.rate`](#ERC7984ERC20Wrapper-rate--) such that `amount / rate()` confidential
tokens are sent. Amount transferred in is rounded down to the nearest multiple of [`ERC7984ERC20Wrapper.rate`](#ERC7984ERC20Wrapper-rate--).

</div>
</div>

<a id="ERC7984ERC20Wrapper-unwrap-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">unwrap(address from, address to, euint64 amount)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-unwrap-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

Unwraps tokens from `from` and sends the underlying tokens to `to`. The caller must be `from`
or be an approved operator for `from`. `amount * rate()` underlying tokens are sent to `to`.

NOTE: This is an asynchronous function and waits for decryption to be completed off-chain before disbursing
tokens.
NOTE: The caller *must* already be approved by ACL for the given `amount`.

</div>
</div>

<a id="ERC7984ERC20Wrapper-unwrap-address-address-externalEuint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">unwrap(address from, address to, externalEuint64 encryptedAmount, bytes inputProof)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-unwrap-address-address-externalEuint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

Variant of [`ERC7984ERC20Wrapper.unwrap`](#ERC7984ERC20Wrapper-unwrap-address-address-externalEuint64-bytes-) that passes an `inputProof` which approves the caller for the `encryptedAmount`
in the ACL.

</div>
</div>

<a id="ERC7984ERC20Wrapper-finalizeUnwrap-uint256-uint64-bytes---"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">finalizeUnwrap(uint256 requestID, uint64 amount, bytes[] signatures)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-finalizeUnwrap-uint256-uint64-bytes---">#</a>
</div>
</div>
<div className="px-4">

Fills an unwrap request for a given request id related to a decrypted unwrap amount.

</div>
</div>

<a id="ERC7984ERC20Wrapper-_unwrap-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_unwrap(address from, address to, euint64 amount)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-_unwrap-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984ERC20Wrapper-_fallbackUnderlyingDecimals--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_fallbackUnderlyingDecimals() → uint8</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-_fallbackUnderlyingDecimals--">#</a>
</div>
</div>
<div className="px-4">

Returns the default number of decimals of the underlying ERC-20 token that is being wrapped.
Used as a default fallback when [`ERC7984ERC20Wrapper._tryGetAssetDecimals`](#ERC7984ERC20Wrapper-_tryGetAssetDecimals-contract-IERC20-) fails to fetch decimals of the underlying
ERC-20 token.

</div>
</div>

<a id="ERC7984ERC20Wrapper-_maxDecimals--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_maxDecimals() → uint8</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984ERC20Wrapper-_maxDecimals--">#</a>
</div>
</div>
<div className="px-4">

Returns the maximum number that will be used for [`IERC7984.decimals`](interfaces#IERC7984-decimals--) by the wrapper.

</div>
</div>

<a id="ERC7984Freezable"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984Freezable` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/extensions/ERC7984Freezable.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/extensions/ERC7984Freezable.sol";
```

Extension of [`ERC7984`](#ERC7984) that implements a confidential
freezing mechanism that can be managed by an authorized account with
[`ERC7984Freezable._setConfidentialFrozen`](#ERC7984Freezable-_setConfidentialFrozen-address-euint64-) functions.

The freezing mechanism provides the guarantee to the contract owner
(e.g. a DAO or a well-configured multisig) that a specific confidential
amount of tokens held by an account won't be transferable until those
tokens are unfrozen.

Inspired by https://github.com/OpenZeppelin/openzeppelin-community-contracts/blob/master/contracts/token/ERC20/extensions/ERC20Freezable.sol

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [confidentialFrozen(account)](#ERC7984Freezable-confidentialFrozen-address-)
- [confidentialAvailable(account)](#ERC7984Freezable-confidentialAvailable-address-)
- [_setConfidentialFrozen(account, encryptedAmount)](#ERC7984Freezable-_setConfidentialFrozen-address-euint64-)
- [_checkFreezer()](#ERC7984Freezable-_checkFreezer--)
- [_update(from, to, encryptedAmount)](#ERC7984Freezable-_update-address-address-euint64-)
#### ERC7984
- [name()](#ERC7984-name--)
- [symbol()](#ERC7984-symbol--)
- [decimals()](#ERC7984-decimals--)
- [tokenURI()](#ERC7984-tokenURI--)
- [confidentialTotalSupply()](#ERC7984-confidentialTotalSupply--)
- [confidentialBalanceOf(account)](#ERC7984-confidentialBalanceOf-address-)
- [isOperator(holder, spender)](#ERC7984-isOperator-address-address-)
- [setOperator(operator, until)](#ERC7984-setOperator-address-uint48-)
- [confidentialTransfer(to, encryptedAmount, inputProof)](#ERC7984-confidentialTransfer-address-externalEuint64-bytes-)
- [confidentialTransfer(to, amount)](#ERC7984-confidentialTransfer-address-euint64-)
- [confidentialTransferFrom(from, to, encryptedAmount, inputProof)](#ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-)
- [confidentialTransferFrom(from, to, amount)](#ERC7984-confidentialTransferFrom-address-address-euint64-)
- [confidentialTransferAndCall(to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-)
- [confidentialTransferAndCall(to, amount, data)](#ERC7984-confidentialTransferAndCall-address-euint64-bytes-)
- [confidentialTransferFromAndCall(from, to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-)
- [confidentialTransferFromAndCall(from, to, amount, data)](#ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-)
- [discloseEncryptedAmount(encryptedAmount)](#ERC7984-discloseEncryptedAmount-euint64-)
- [finalizeDiscloseEncryptedAmount(requestId, amount, signatures)](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
- [_setOperator(holder, operator, until)](#ERC7984-_setOperator-address-address-uint48-)
- [_mint(to, amount)](#ERC7984-_mint-address-euint64-)
- [_burn(from, amount)](#ERC7984-_burn-address-euint64-)
- [_transfer(from, to, amount)](#ERC7984-_transfer-address-address-euint64-)
- [_transferAndCall(from, to, amount, data)](#ERC7984-_transferAndCall-address-address-euint64-bytes-)
#### IERC7984
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
- [TokensFrozen(account, encryptedAmount)](#ERC7984Freezable-TokensFrozen-address-euint64-)
#### ERC7984
#### IERC7984
- [OperatorSet(holder, operator, until)](#IERC7984-OperatorSet-address-address-uint48-)
- [ConfidentialTransfer(from, to, amount)](#IERC7984-ConfidentialTransfer-address-address-euint64-)
- [AmountDisclosed(encryptedAmount, amount)](#IERC7984-AmountDisclosed-euint64-uint64-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
#### ERC7984
- [ERC7984InvalidReceiver(receiver)](#ERC7984-ERC7984InvalidReceiver-address-)
- [ERC7984InvalidSender(sender)](#ERC7984-ERC7984InvalidSender-address-)
- [ERC7984UnauthorizedSpender(holder, spender)](#ERC7984-ERC7984UnauthorizedSpender-address-address-)
- [ERC7984ZeroBalance(holder)](#ERC7984-ERC7984ZeroBalance-address-)
- [ERC7984UnauthorizedUseOfEncryptedAmount(amount, user)](#ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-)
- [ERC7984UnauthorizedCaller(caller)](#ERC7984-ERC7984UnauthorizedCaller-address-)
- [ERC7984InvalidGatewayRequest(requestId)](#ERC7984-ERC7984InvalidGatewayRequest-uint256-)
#### IERC7984
</div>
</div>

<a id="ERC7984Freezable-confidentialFrozen-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialFrozen(address account) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984Freezable-confidentialFrozen-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the confidential frozen balance of an account.

</div>
</div>

<a id="ERC7984Freezable-confidentialAvailable-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialAvailable(address account) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984Freezable-confidentialAvailable-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the confidential available (unfrozen) balance of an account. Up to [`IERC7984.confidentialBalanceOf`](interfaces#IERC7984-confidentialBalanceOf-address-).

</div>
</div>

<a id="ERC7984Freezable-_setConfidentialFrozen-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_setConfidentialFrozen(address account, euint64 encryptedAmount)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Freezable-_setConfidentialFrozen-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

Internal function to freeze a confidential amount of tokens for an account.

</div>
</div>

<a id="ERC7984Freezable-_checkFreezer--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_checkFreezer()</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Freezable-_checkFreezer--">#</a>
</div>
</div>
<div className="px-4">

Unimplemented function that must revert if `msg.sender` is not authorized as a freezer.

</div>
</div>

<a id="ERC7984Freezable-_update-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_update(address from, address to, euint64 encryptedAmount) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Freezable-_update-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

See [`ERC7984._update`](#ERC7984-_update-address-address-euint64-). The `from` account must have sufficient unfrozen balance,
otherwise 0 tokens are transferred.

</div>
</div>

<a id="ERC7984Freezable-TokensFrozen-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">TokensFrozen(address indexed account, euint64 encryptedAmount)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="ERC7984Freezable-TokensFrozen-address-euint64-">#</a>
</div>
</div>

<div className="px-4">

Emitted when a confidential amount of token is frozen for an account

</div>
</div>

<a id="ERC7984ObserverAccess"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984ObserverAccess` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/extensions/ERC7984ObserverAccess.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/extensions/ERC7984ObserverAccess.sol";
```

Extension of [`ERC7984`](#ERC7984) that allows each account to add a observer who is given
permanent ACL access to its transfer and balance amounts. A observer can be added or removed at any point in time.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [setObserver(account, newObserver)](#ERC7984ObserverAccess-setObserver-address-address-)
- [observer(account)](#ERC7984ObserverAccess-observer-address-)
- [_update(from, to, amount)](#ERC7984ObserverAccess-_update-address-address-euint64-)
#### ERC7984
- [name()](#ERC7984-name--)
- [symbol()](#ERC7984-symbol--)
- [decimals()](#ERC7984-decimals--)
- [tokenURI()](#ERC7984-tokenURI--)
- [confidentialTotalSupply()](#ERC7984-confidentialTotalSupply--)
- [confidentialBalanceOf(account)](#ERC7984-confidentialBalanceOf-address-)
- [isOperator(holder, spender)](#ERC7984-isOperator-address-address-)
- [setOperator(operator, until)](#ERC7984-setOperator-address-uint48-)
- [confidentialTransfer(to, encryptedAmount, inputProof)](#ERC7984-confidentialTransfer-address-externalEuint64-bytes-)
- [confidentialTransfer(to, amount)](#ERC7984-confidentialTransfer-address-euint64-)
- [confidentialTransferFrom(from, to, encryptedAmount, inputProof)](#ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-)
- [confidentialTransferFrom(from, to, amount)](#ERC7984-confidentialTransferFrom-address-address-euint64-)
- [confidentialTransferAndCall(to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-)
- [confidentialTransferAndCall(to, amount, data)](#ERC7984-confidentialTransferAndCall-address-euint64-bytes-)
- [confidentialTransferFromAndCall(from, to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-)
- [confidentialTransferFromAndCall(from, to, amount, data)](#ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-)
- [discloseEncryptedAmount(encryptedAmount)](#ERC7984-discloseEncryptedAmount-euint64-)
- [finalizeDiscloseEncryptedAmount(requestId, amount, signatures)](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
- [_setOperator(holder, operator, until)](#ERC7984-_setOperator-address-address-uint48-)
- [_mint(to, amount)](#ERC7984-_mint-address-euint64-)
- [_burn(from, amount)](#ERC7984-_burn-address-euint64-)
- [_transfer(from, to, amount)](#ERC7984-_transfer-address-address-euint64-)
- [_transferAndCall(from, to, amount, data)](#ERC7984-_transferAndCall-address-address-euint64-bytes-)
#### IERC7984
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
- [ERC7984ObserverAccessObserverSet(account, oldObserver, newObserver)](#ERC7984ObserverAccess-ERC7984ObserverAccessObserverSet-address-address-address-)
#### ERC7984
#### IERC7984
- [OperatorSet(holder, operator, until)](#IERC7984-OperatorSet-address-address-uint48-)
- [ConfidentialTransfer(from, to, amount)](#IERC7984-ConfidentialTransfer-address-address-euint64-)
- [AmountDisclosed(encryptedAmount, amount)](#IERC7984-AmountDisclosed-euint64-uint64-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
- [Unauthorized()](#ERC7984ObserverAccess-Unauthorized--)
#### ERC7984
- [ERC7984InvalidReceiver(receiver)](#ERC7984-ERC7984InvalidReceiver-address-)
- [ERC7984InvalidSender(sender)](#ERC7984-ERC7984InvalidSender-address-)
- [ERC7984UnauthorizedSpender(holder, spender)](#ERC7984-ERC7984UnauthorizedSpender-address-address-)
- [ERC7984ZeroBalance(holder)](#ERC7984-ERC7984ZeroBalance-address-)
- [ERC7984UnauthorizedUseOfEncryptedAmount(amount, user)](#ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-)
- [ERC7984UnauthorizedCaller(caller)](#ERC7984-ERC7984UnauthorizedCaller-address-)
- [ERC7984InvalidGatewayRequest(requestId)](#ERC7984-ERC7984InvalidGatewayRequest-uint256-)
#### IERC7984
</div>
</div>

<a id="ERC7984ObserverAccess-setObserver-address-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">setObserver(address account, address newObserver)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ObserverAccess-setObserver-address-address-">#</a>
</div>
</div>
<div className="px-4">

Sets the observer for the given account `account` to `newObserver`. Can be called by the
account or the existing observer to abdicate the observer role (may only set to `address(0)`).

</div>
</div>

<a id="ERC7984ObserverAccess-observer-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">observer(address account) → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984ObserverAccess-observer-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the observer for the given account `account`.

</div>
</div>

<a id="ERC7984ObserverAccess-_update-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_update(address from, address to, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984ObserverAccess-_update-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984ObserverAccess-ERC7984ObserverAccessObserverSet-address-address-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ERC7984ObserverAccessObserverSet(address account, address oldObserver, address newObserver)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="ERC7984ObserverAccess-ERC7984ObserverAccessObserverSet-address-address-address-">#</a>
</div>
</div>

<div className="px-4">

Emitted when the observer is changed for the given account `account`.

</div>
</div>

<a id="ERC7984ObserverAccess-Unauthorized--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">Unauthorized()</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984ObserverAccess-Unauthorized--">#</a>
</div>
</div>
<div className="px-4">

Thrown when an account tries to set a `newObserver` for a given `account` without proper authority.

</div>
</div>

<a id="ERC7984Restricted"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984Restricted` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/extensions/ERC7984Restricted.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/extensions/ERC7984Restricted.sol";
```

Extension of [`ERC7984`](#ERC7984) that implements user account transfer restrictions through the
[`ERC7984Restricted.isUserAllowed`](#ERC7984Restricted-isUserAllowed-address-) function. Inspired by
https://github.com/OpenZeppelin/openzeppelin-community-contracts/blob/master/contracts/token/ERC20/extensions/ERC20Restricted.sol.

By default, each account has no explicit restriction. The [`ERC7984Restricted.isUserAllowed`](#ERC7984Restricted-isUserAllowed-address-) function acts as
a blocklist. Developers can override [`ERC7984Restricted.isUserAllowed`](#ERC7984Restricted-isUserAllowed-address-) to check that `restriction == ALLOWED`
to implement an allowlist.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [getRestriction(account)](#ERC7984Restricted-getRestriction-address-)
- [isUserAllowed(account)](#ERC7984Restricted-isUserAllowed-address-)
- [_update(from, to, value)](#ERC7984Restricted-_update-address-address-euint64-)
- [_setRestriction(account, restriction)](#ERC7984Restricted-_setRestriction-address-enum-ERC7984Restricted-Restriction-)
- [_blockUser(account)](#ERC7984Restricted-_blockUser-address-)
- [_allowUser(account)](#ERC7984Restricted-_allowUser-address-)
- [_resetUser(account)](#ERC7984Restricted-_resetUser-address-)
- [_checkRestriction(account)](#ERC7984Restricted-_checkRestriction-address-)
#### ERC7984
- [name()](#ERC7984-name--)
- [symbol()](#ERC7984-symbol--)
- [decimals()](#ERC7984-decimals--)
- [tokenURI()](#ERC7984-tokenURI--)
- [confidentialTotalSupply()](#ERC7984-confidentialTotalSupply--)
- [confidentialBalanceOf(account)](#ERC7984-confidentialBalanceOf-address-)
- [isOperator(holder, spender)](#ERC7984-isOperator-address-address-)
- [setOperator(operator, until)](#ERC7984-setOperator-address-uint48-)
- [confidentialTransfer(to, encryptedAmount, inputProof)](#ERC7984-confidentialTransfer-address-externalEuint64-bytes-)
- [confidentialTransfer(to, amount)](#ERC7984-confidentialTransfer-address-euint64-)
- [confidentialTransferFrom(from, to, encryptedAmount, inputProof)](#ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-)
- [confidentialTransferFrom(from, to, amount)](#ERC7984-confidentialTransferFrom-address-address-euint64-)
- [confidentialTransferAndCall(to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-)
- [confidentialTransferAndCall(to, amount, data)](#ERC7984-confidentialTransferAndCall-address-euint64-bytes-)
- [confidentialTransferFromAndCall(from, to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-)
- [confidentialTransferFromAndCall(from, to, amount, data)](#ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-)
- [discloseEncryptedAmount(encryptedAmount)](#ERC7984-discloseEncryptedAmount-euint64-)
- [finalizeDiscloseEncryptedAmount(requestId, amount, signatures)](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
- [_setOperator(holder, operator, until)](#ERC7984-_setOperator-address-address-uint48-)
- [_mint(to, amount)](#ERC7984-_mint-address-euint64-)
- [_burn(from, amount)](#ERC7984-_burn-address-euint64-)
- [_transfer(from, to, amount)](#ERC7984-_transfer-address-address-euint64-)
- [_transferAndCall(from, to, amount, data)](#ERC7984-_transferAndCall-address-address-euint64-bytes-)
#### IERC7984
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
- [UserRestrictionUpdated(account, restriction)](#ERC7984Restricted-UserRestrictionUpdated-address-enum-ERC7984Restricted-Restriction-)
#### ERC7984
#### IERC7984
- [OperatorSet(holder, operator, until)](#IERC7984-OperatorSet-address-address-uint48-)
- [ConfidentialTransfer(from, to, amount)](#IERC7984-ConfidentialTransfer-address-address-euint64-)
- [AmountDisclosed(encryptedAmount, amount)](#IERC7984-AmountDisclosed-euint64-uint64-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
- [UserRestricted(account)](#ERC7984Restricted-UserRestricted-address-)
#### ERC7984
- [ERC7984InvalidReceiver(receiver)](#ERC7984-ERC7984InvalidReceiver-address-)
- [ERC7984InvalidSender(sender)](#ERC7984-ERC7984InvalidSender-address-)
- [ERC7984UnauthorizedSpender(holder, spender)](#ERC7984-ERC7984UnauthorizedSpender-address-address-)
- [ERC7984ZeroBalance(holder)](#ERC7984-ERC7984ZeroBalance-address-)
- [ERC7984UnauthorizedUseOfEncryptedAmount(amount, user)](#ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-)
- [ERC7984UnauthorizedCaller(caller)](#ERC7984-ERC7984UnauthorizedCaller-address-)
- [ERC7984InvalidGatewayRequest(requestId)](#ERC7984-ERC7984InvalidGatewayRequest-uint256-)
#### IERC7984
</div>
</div>

<a id="ERC7984Restricted-getRestriction-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">getRestriction(address account) → enum ERC7984Restricted.Restriction</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984Restricted-getRestriction-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the restriction of a user account.

</div>
</div>

<a id="ERC7984Restricted-isUserAllowed-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">isUserAllowed(address account) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984Restricted-isUserAllowed-address-">#</a>
</div>
</div>
<div className="px-4">

Returns whether a user account is allowed to interact with the token.

Default implementation only disallows explicitly BLOCKED accounts (i.e. a blocklist).

To convert into an allowlist, override as:

```solidity
function isUserAllowed(address account) public view virtual override returns (bool) {
    return getRestriction(account) == Restriction.ALLOWED;
}
```

</div>
</div>

<a id="ERC7984Restricted-_update-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_update(address from, address to, euint64 value) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Restricted-_update-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

See [`ERC7984._update`](#ERC7984-_update-address-address-euint64-). Enforces transfer restrictions (excluding minting and burning).

Requirements:

* `from` must be allowed to transfer tokens (see [`ERC7984Restricted.isUserAllowed`](#ERC7984Restricted-isUserAllowed-address-)).
* `to` must be allowed to receive tokens (see [`ERC7984Restricted.isUserAllowed`](#ERC7984Restricted-isUserAllowed-address-)).

</div>
</div>

<a id="ERC7984Restricted-_setRestriction-address-enum-ERC7984Restricted-Restriction-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_setRestriction(address account, enum ERC7984Restricted.Restriction restriction)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Restricted-_setRestriction-address-enum-ERC7984Restricted-Restriction-">#</a>
</div>
</div>
<div className="px-4">

Updates the restriction of a user account.

</div>
</div>

<a id="ERC7984Restricted-_blockUser-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_blockUser(address account)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Restricted-_blockUser-address-">#</a>
</div>
</div>
<div className="px-4">

Convenience function to block a user account (set to BLOCKED).

</div>
</div>

<a id="ERC7984Restricted-_allowUser-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_allowUser(address account)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Restricted-_allowUser-address-">#</a>
</div>
</div>
<div className="px-4">

Convenience function to allow a user account (set to ALLOWED).

</div>
</div>

<a id="ERC7984Restricted-_resetUser-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_resetUser(address account)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Restricted-_resetUser-address-">#</a>
</div>
</div>
<div className="px-4">

Convenience function to reset a user account to default restriction.

</div>
</div>

<a id="ERC7984Restricted-_checkRestriction-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_checkRestriction(address account)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Restricted-_checkRestriction-address-">#</a>
</div>
</div>
<div className="px-4">

Checks if a user account is restricted. Reverts with `ERC20Restricted` if so.

</div>
</div>

<a id="ERC7984Restricted-UserRestrictionUpdated-address-enum-ERC7984Restricted-Restriction-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">UserRestrictionUpdated(address indexed account, enum ERC7984Restricted.Restriction restriction)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="ERC7984Restricted-UserRestrictionUpdated-address-enum-ERC7984Restricted-Restriction-">#</a>
</div>
</div>

<div className="px-4">

Emitted when a user account's restriction is updated.

</div>
</div>

<a id="ERC7984Restricted-UserRestricted-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">UserRestricted(address account)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="ERC7984Restricted-UserRestricted-address-">#</a>
</div>
</div>
<div className="px-4">

The operation failed because the user account is restricted.

</div>
</div>

<a id="ERC7984Votes"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984Votes` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/extensions/ERC7984Votes.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/extensions/ERC7984Votes.sol";
```

Extension of [`ERC7984`](#ERC7984) supporting confidential votes tracking and delegation.

The amount of confidential voting units an account has is equal to the balance of
that account. Voing power is taken into account when an account delegates votes to itself or to another
account.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [confidentialTotalSupply()](#ERC7984Votes-confidentialTotalSupply--)
- [_update(from, to, amount)](#ERC7984Votes-_update-address-address-euint64-)
- [_getVotingUnits(account)](#ERC7984Votes-_getVotingUnits-address-)
#### VotesConfidential
- [clock()](#VotesConfidential-clock--)
- [CLOCK_MODE()](#VotesConfidential-CLOCK_MODE--)
- [getVotes(account)](#VotesConfidential-getVotes-address-)
- [getPastVotes(account, timepoint)](#VotesConfidential-getPastVotes-address-uint256-)
- [getPastTotalSupply(timepoint)](#VotesConfidential-getPastTotalSupply-uint256-)
- [delegates(account)](#VotesConfidential-delegates-address-)
- [delegate(delegatee)](#VotesConfidential-delegate-address-)
- [delegateBySig(delegatee, nonce, expiry, v, r, s)](#VotesConfidential-delegateBySig-address-uint256-uint256-uint8-bytes32-bytes32-)
- [_delegate(account, delegatee)](#VotesConfidential-_delegate-address-address-)
- [_transferVotingUnits(from, to, amount)](#VotesConfidential-_transferVotingUnits-address-address-euint64-)
- [_moveDelegateVotes(from, to, amount)](#VotesConfidential-_moveDelegateVotes-address-address-euint64-)
- [_validateTimepoint(timepoint)](#VotesConfidential-_validateTimepoint-uint256-)
#### HandleAccessManager
- [getHandleAllowance(handle, account, persistent)](#HandleAccessManager-getHandleAllowance-bytes32-address-bool-)
- [_validateHandleAllowance(handle)](#HandleAccessManager-_validateHandleAllowance-bytes32-)
#### IERC6372
#### EIP712
- [_domainSeparatorV4()](#EIP712-_domainSeparatorV4--)
- [_hashTypedDataV4(structHash)](#EIP712-_hashTypedDataV4-bytes32-)
- [eip712Domain()](#EIP712-eip712Domain--)
- [_EIP712Name()](#EIP712-_EIP712Name--)
- [_EIP712Version()](#EIP712-_EIP712Version--)
#### IERC5267
#### Nonces
- [nonces(owner)](#Nonces-nonces-address-)
- [_useNonce(owner)](#Nonces-_useNonce-address-)
- [_useCheckedNonce(owner, nonce)](#Nonces-_useCheckedNonce-address-uint256-)
#### ERC7984
- [name()](#ERC7984-name--)
- [symbol()](#ERC7984-symbol--)
- [decimals()](#ERC7984-decimals--)
- [tokenURI()](#ERC7984-tokenURI--)
- [confidentialBalanceOf(account)](#ERC7984-confidentialBalanceOf-address-)
- [isOperator(holder, spender)](#ERC7984-isOperator-address-address-)
- [setOperator(operator, until)](#ERC7984-setOperator-address-uint48-)
- [confidentialTransfer(to, encryptedAmount, inputProof)](#ERC7984-confidentialTransfer-address-externalEuint64-bytes-)
- [confidentialTransfer(to, amount)](#ERC7984-confidentialTransfer-address-euint64-)
- [confidentialTransferFrom(from, to, encryptedAmount, inputProof)](#ERC7984-confidentialTransferFrom-address-address-externalEuint64-bytes-)
- [confidentialTransferFrom(from, to, amount)](#ERC7984-confidentialTransferFrom-address-address-euint64-)
- [confidentialTransferAndCall(to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferAndCall-address-externalEuint64-bytes-bytes-)
- [confidentialTransferAndCall(to, amount, data)](#ERC7984-confidentialTransferAndCall-address-euint64-bytes-)
- [confidentialTransferFromAndCall(from, to, encryptedAmount, inputProof, data)](#ERC7984-confidentialTransferFromAndCall-address-address-externalEuint64-bytes-bytes-)
- [confidentialTransferFromAndCall(from, to, amount, data)](#ERC7984-confidentialTransferFromAndCall-address-address-euint64-bytes-)
- [discloseEncryptedAmount(encryptedAmount)](#ERC7984-discloseEncryptedAmount-euint64-)
- [finalizeDiscloseEncryptedAmount(requestId, amount, signatures)](#ERC7984-finalizeDiscloseEncryptedAmount-uint256-uint64-bytes---)
- [_setOperator(holder, operator, until)](#ERC7984-_setOperator-address-address-uint48-)
- [_mint(to, amount)](#ERC7984-_mint-address-euint64-)
- [_burn(from, amount)](#ERC7984-_burn-address-euint64-)
- [_transfer(from, to, amount)](#ERC7984-_transfer-address-address-euint64-)
- [_transferAndCall(from, to, amount, data)](#ERC7984-_transferAndCall-address-address-euint64-bytes-)
#### IERC7984
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
#### VotesConfidential
- [DelegateVotesChanged(delegate, previousVotes, newVotes)](#VotesConfidential-DelegateVotesChanged-address-euint64-euint64-)
- [DelegateChanged(delegator, fromDelegate, toDelegate)](#VotesConfidential-DelegateChanged-address-address-address-)
#### HandleAccessManager
#### IERC6372
#### EIP712
#### IERC5267
- [EIP712DomainChanged()](#IERC5267-EIP712DomainChanged--)
#### Nonces
#### ERC7984
#### IERC7984
- [OperatorSet(holder, operator, until)](#IERC7984-OperatorSet-address-address-uint48-)
- [ConfidentialTransfer(from, to, amount)](#IERC7984-ConfidentialTransfer-address-address-euint64-)
- [AmountDisclosed(encryptedAmount, amount)](#IERC7984-AmountDisclosed-euint64-uint64-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
#### VotesConfidential
- [VotesExpiredSignature(expiry)](#VotesConfidential-VotesExpiredSignature-uint256-)
- [ERC6372InconsistentClock()](#VotesConfidential-ERC6372InconsistentClock--)
- [ERC5805FutureLookup(timepoint, clock)](#VotesConfidential-ERC5805FutureLookup-uint256-uint48-)
#### HandleAccessManager
#### IERC6372
#### EIP712
#### IERC5267
#### Nonces
- [InvalidAccountNonce(account, currentNonce)](#Nonces-InvalidAccountNonce-address-uint256-)
#### ERC7984
- [ERC7984InvalidReceiver(receiver)](#ERC7984-ERC7984InvalidReceiver-address-)
- [ERC7984InvalidSender(sender)](#ERC7984-ERC7984InvalidSender-address-)
- [ERC7984UnauthorizedSpender(holder, spender)](#ERC7984-ERC7984UnauthorizedSpender-address-address-)
- [ERC7984ZeroBalance(holder)](#ERC7984-ERC7984ZeroBalance-address-)
- [ERC7984UnauthorizedUseOfEncryptedAmount(amount, user)](#ERC7984-ERC7984UnauthorizedUseOfEncryptedAmount-euint64-address-)
- [ERC7984UnauthorizedCaller(caller)](#ERC7984-ERC7984UnauthorizedCaller-address-)
- [ERC7984InvalidGatewayRequest(requestId)](#ERC7984-ERC7984InvalidGatewayRequest-uint256-)
#### IERC7984
</div>
</div>

<a id="ERC7984Votes-confidentialTotalSupply--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">confidentialTotalSupply() → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="ERC7984Votes-confidentialTotalSupply--">#</a>
</div>
</div>
<div className="px-4">

Returns the confidential total supply of the token.

</div>
</div>

<a id="ERC7984Votes-_update-address-address-euint64-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_update(address from, address to, euint64 amount) → euint64 transferred</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Votes-_update-address-address-euint64-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984Votes-_getVotingUnits-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_getVotingUnits(address account) → euint64</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Votes-_getVotingUnits-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="ERC7984Utils"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `ERC7984Utils` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v0.2.0/contracts/token/ERC7984/utils/ERC7984Utils.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/token/ERC7984/utils/ERC7984Utils.sol";
```

Library that provides common [`ERC7984`](#ERC7984) utility functions.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [checkOnTransferReceived(operator, from, to, amount, data)](#ERC7984Utils-checkOnTransferReceived-address-address-address-euint64-bytes-)
</div>
</div>

<a id="ERC7984Utils-checkOnTransferReceived-address-address-address-euint64-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">checkOnTransferReceived(address operator, address from, address to, euint64 amount, bytes data) → ebool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="ERC7984Utils-checkOnTransferReceived-address-address-address-euint64-bytes-">#</a>
</div>
</div>
<div className="px-4">

Performs a transfer callback to the recipient of the transfer `to`. Should be invoked
after all transfers "withCallback" on a [`ERC7984`](#ERC7984).

The transfer callback is not invoked on the recipient if the recipient has no code (i.e. is an EOA). If the
recipient has non-zero code, it must implement
[`IERC7984Receiver.onConfidentialTransferReceived`](interfaces#IERC7984Receiver-onConfidentialTransferReceived-address-address-euint64-bytes-) and return an `ebool` indicating
whether the transfer was accepted or not. If the `ebool` is `false`, the transfer will be reversed.

</div>
</div>

