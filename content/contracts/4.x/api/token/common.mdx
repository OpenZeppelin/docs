---
title: "Common"
description: "Smart contract common utilities and implementations"
---

Functionality that is common to multiple token standards.

* [`ERC2981`](#ERC2981): NFT Royalties compatible with both ERC721 and ERC1155.
  * For ERC721 consider [`ERC721Royalty`](ERC721#ERC721Royalty) which clears the royalty information from storage on burn.

## Contracts

[`ERC2981`](#ERC2981)

<a id="ERC2981"></a>

## `ERC2981` [üìÅ](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/token/common/ERC2981.sol)

```solidity
import "@openzeppelin/contracts/token/common/ERC2981.sol";
```

Implementation of the NFT Royalty Standard, a standardized way to retrieve royalty payment information.

Royalty information can be specified globally for all token ids via [`ERC2981._setDefaultRoyalty`](#ERC2981-_setDefaultRoyalty-address-uint96-), and/or individually for
specific token ids via [`ERC2981._setTokenRoyalty`](#ERC2981-_setTokenRoyalty-uint256-address-uint96-). The latter takes precedence over the first.

Royalty is specified as a fraction of sale price. [`ERC2981._feeDenominator`](#ERC2981-_feeDenominator--) is overridable but defaults to 10000, meaning the
fee is specified in basis points by default.

IMPORTANT: ERC-2981 only specifies a way to signal royalty information and does not enforce its payment. See
[Rationale](https://eips.ethereum.org/EIPS/eip-2981#optional-royalty-payments) in the EIP. Marketplaces are expected to
voluntarily pay royalties together with sales, but note that this standard is not yet widely supported.

_Available since v4.5._

### Functions
- [supportsInterface(interfaceId)](#ERC2981-supportsInterface-bytes4-)
- [royaltyInfo(tokenId, salePrice)](#ERC2981-royaltyInfo-uint256-uint256-)
- [_feeDenominator()](#ERC2981-_feeDenominator--)
- [_setDefaultRoyalty(receiver, feeNumerator)](#ERC2981-_setDefaultRoyalty-address-uint96-)
- [_deleteDefaultRoyalty()](#ERC2981-_deleteDefaultRoyalty--)
- [_setTokenRoyalty(tokenId, receiver, feeNumerator)](#ERC2981-_setTokenRoyalty-uint256-address-uint96-)
- [_resetTokenRoyalty(tokenId)](#ERC2981-_resetTokenRoyalty-uint256-)

#### ERC165

#### IERC2981

#### IERC165

<a id="ERC2981-supportsInterface-bytes4-"></a>

### `supportsInterface(bytes4 interfaceId) ‚Üí bool`
*public*

See [`IERC165.supportsInterface`](../utils#IERC165-supportsInterface-bytes4-).

<a id="ERC2981-royaltyInfo-uint256-uint256-"></a>

### `royaltyInfo(uint256 tokenId, uint256 salePrice) ‚Üí address, uint256`
*public*

Returns how much royalty is owed and to whom, based on a sale price that may be denominated in any unit of
exchange. The royalty amount is denominated and should be paid in that same unit of exchange.

<a id="ERC2981-_feeDenominator--"></a>

### `_feeDenominator() ‚Üí uint96`
*internal*

The denominator with which to interpret the fee set in [`ERC2981._setTokenRoyalty`](#ERC2981-_setTokenRoyalty-uint256-address-uint96-) and [`ERC2981._setDefaultRoyalty`](#ERC2981-_setDefaultRoyalty-address-uint96-) as a
fraction of the sale price. Defaults to 10000 so fees are expressed in basis points, but may be customized by an
override.

<a id="ERC2981-_setDefaultRoyalty-address-uint96-"></a>

### `_setDefaultRoyalty(address receiver, uint96 feeNumerator)`
*internal*

Sets the royalty information that all ids in this contract will default to.

Requirements:

- `receiver` cannot be the zero address.
- `feeNumerator` cannot be greater than the fee denominator.

<a id="ERC2981-_deleteDefaultRoyalty--"></a>

### `_deleteDefaultRoyalty()`
*internal*

Removes default royalty information.

<a id="ERC2981-_setTokenRoyalty-uint256-address-uint96-"></a>

### `_setTokenRoyalty(uint256 tokenId, address receiver, uint96 feeNumerator)`
*internal*

Sets the royalty information for a specific token id, overriding the global default.

Requirements:

- `receiver` cannot be the zero address.
- `feeNumerator` cannot be greater than the fee denominator.

<a id="ERC2981-_resetTokenRoyalty-uint256-"></a>

### `_resetTokenRoyalty(uint256 tokenId)`
*internal*

Resets royalty information for the token id back to the global default.

