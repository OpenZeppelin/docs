---
title: "Crosschain"
description: "Smart contract crosschain utilities and implementations"
---

This directory provides building blocks to improve cross-chain awareness of smart contracts.

* [`CrossChainEnabled`](#CrossChainEnabled) is an abstraction that contains accessors and modifiers to control the execution flow when receiving cross-chain messages.

## CrossChainEnabled specializations

The following specializations of [`CrossChainEnabled`](#CrossChainEnabled) provide implementations of the [`CrossChainEnabled`](#CrossChainEnabled) abstraction for specific bridges. This can be used to complex cross-chain aware components such as [`AccessControlCrossChain`](access#AccessControlCrossChain).

[`CrossChainEnabledAMB`](#CrossChainEnabledAMB)

[`CrossChainEnabledArbitrumL1`](#CrossChainEnabledArbitrumL1)

[`CrossChainEnabledArbitrumL2`](#CrossChainEnabledArbitrumL2)

[`CrossChainEnabledOptimism`](#CrossChainEnabledOptimism)

[`CrossChainEnabledPolygonChild`](#CrossChainEnabledPolygonChild)

## Libraries for cross-chain

In addition to the [`CrossChainEnabled`](#CrossChainEnabled) abstraction, cross-chain awareness is also available through libraries. These libraries can be used to build complex designs such as contracts with the ability to interact with multiple bridges.

[`LibAMB`](#LibAMB)

[`LibArbitrumL1`](#LibArbitrumL1)

[`LibArbitrumL2`](#LibArbitrumL2)

[`LibOptimism`](#LibOptimism)

<a id="CrossChainEnabled"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `CrossChainEnabled` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/CrossChainEnabled.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/CrossChainEnabled.sol";
```

Provides information for building cross-chain aware contracts. This
abstract contract provides accessors and modifiers to control the execution
flow when receiving cross-chain messages.

Actual implementations of cross-chain aware contracts, which are based on
this abstraction, will  have to inherit from a bridge-specific
specialization. Such specializations are provided under
`crosschain/<chain>/CrossChainEnabled<chain>.sol`.

_Available since v4.6._

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Modifiers</h3>
<div className="font-mono">
- [onlyCrossChain()](#CrossChainEnabled-onlyCrossChain--)
- [onlyCrossChainSender(expected)](#CrossChainEnabled-onlyCrossChainSender-address-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [_isCrossChain()](#CrossChainEnabled-_isCrossChain--)
- [_crossChainSender()](#CrossChainEnabled-_crossChainSender--)
</div>
</div>

<a id="CrossChainEnabled-onlyCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">onlyCrossChain()</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabled-onlyCrossChain--">#</a>
</div>
</div>

<div className="px-4">

Throws if the current function call is not the result of a
cross-chain execution.

</div>
</div>

<a id="CrossChainEnabled-onlyCrossChainSender-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">onlyCrossChainSender(address expected)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabled-onlyCrossChainSender-address-">#</a>
</div>
</div>

<div className="px-4">

Throws if the current function call is not the result of a
cross-chain execution initiated by `account`.

</div>
</div>

<a id="CrossChainEnabled-_isCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_isCrossChain() → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabled-_isCrossChain--">#</a>
</div>
</div>
<div className="px-4">

Returns whether the current function call is the result of a
cross-chain message.

</div>
</div>

<a id="CrossChainEnabled-_crossChainSender--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_crossChainSender() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabled-_crossChainSender--">#</a>
</div>
</div>
<div className="px-4">

Returns the address of the sender of the cross-chain message that
triggered the current function call.

<Callout type="warn">
Should revert with `NotCrossChainCall` if the current function
</Callout>
call is not the result of a cross-chain message.

</div>
</div>

<a id="CrossChainEnabledAMB"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `CrossChainEnabledAMB` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/amb/CrossChainEnabledAMB.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/amb/CrossChainEnabledAMB.sol";
```

[AMB](https://docs.tokenbridge.net/amb-bridge/about-amb-bridge)
specialization or the [`CrossChainEnabled`](#CrossChainEnabled) abstraction.

As of february 2020, AMB bridges are available between the following chains:

- [ETH ⇌ xDai](https://docs.tokenbridge.net/eth-xdai-amb-bridge/about-the-eth-xdai-amb)
- [ETH ⇌ qDai](https://docs.tokenbridge.net/eth-qdai-bridge/about-the-eth-qdai-amb)
- [ETH ⇌ ETC](https://docs.tokenbridge.net/eth-etc-amb-bridge/about-the-eth-etc-amb)
- [ETH ⇌ BSC](https://docs.tokenbridge.net/eth-bsc-amb/about-the-eth-bsc-amb)
- [ETH ⇌ POA](https://docs.tokenbridge.net/eth-poa-amb-bridge/about-the-eth-poa-amb)
- [BSC ⇌ xDai](https://docs.tokenbridge.net/bsc-xdai-amb/about-the-bsc-xdai-amb)
- [POA ⇌ xDai](https://docs.tokenbridge.net/poa-xdai-amb/about-the-poa-xdai-amb)
- [Rinkeby ⇌ xDai](https://docs.tokenbridge.net/rinkeby-xdai-amb-bridge/about-the-rinkeby-xdai-amb)
- [Kovan ⇌ Sokol](https://docs.tokenbridge.net/kovan-sokol-amb-bridge/about-the-kovan-sokol-amb)

_Available since v4.6._

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(bridge)](#CrossChainEnabledAMB-constructor-address-)
- [_isCrossChain()](#CrossChainEnabledAMB-_isCrossChain--)
- [_crossChainSender()](#CrossChainEnabledAMB-_crossChainSender--)
#### CrossChainEnabled
</div>
</div>

<a id="CrossChainEnabledAMB-constructor-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(address bridge)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="CrossChainEnabledAMB-constructor-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="CrossChainEnabledAMB-_isCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_isCrossChain() → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledAMB-_isCrossChain--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._isCrossChain`](#CrossChainEnabled-_isCrossChain--)

</div>
</div>

<a id="CrossChainEnabledAMB-_crossChainSender--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_crossChainSender() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledAMB-_crossChainSender--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._crossChainSender`](#CrossChainEnabled-_crossChainSender--)

</div>
</div>

<a id="LibAMB"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `LibAMB` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/amb/LibAMB.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/amb/LibAMB.sol";
```

Primitives for cross-chain aware contracts using the
[AMB](https://docs.tokenbridge.net/amb-bridge/about-amb-bridge)
family of bridges.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [isCrossChain(bridge)](#LibAMB-isCrossChain-address-)
- [crossChainSender(bridge)](#LibAMB-crossChainSender-address-)
</div>
</div>

<a id="LibAMB-isCrossChain-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">isCrossChain(address bridge) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibAMB-isCrossChain-address-">#</a>
</div>
</div>
<div className="px-4">

Returns whether the current function call is the result of a
cross-chain message relayed by `bridge`.

</div>
</div>

<a id="LibAMB-crossChainSender-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">crossChainSender(address bridge) → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibAMB-crossChainSender-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the address of the sender that triggered the current
cross-chain message through `bridge`.

NOTE: [`LibAMB.isCrossChain`](#LibAMB-isCrossChain-address-) should be checked before trying to recover the
sender, as it will revert with `NotCrossChainCall` if the current
function call is not the result of a cross-chain message.

</div>
</div>

<a id="CrossChainEnabledArbitrumL1"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `CrossChainEnabledArbitrumL1` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/arbitrum/CrossChainEnabledArbitrumL1.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/arbitrum/CrossChainEnabledArbitrumL1.sol";
```

[Arbitrum](https://arbitrum.io/) specialization or the
[`CrossChainEnabled`](#CrossChainEnabled) abstraction the L1 side (mainnet).

This version should only be deployed on L1 to process cross-chain messages
originating from L2. For the other side, use [`CrossChainEnabledArbitrumL2`](#CrossChainEnabledArbitrumL2).

The bridge contract is provided and maintained by the arbitrum team. You can
find the address of this contract on the rinkeby testnet in
[Arbitrum's developer documentation](https://developer.offchainlabs.com/docs/useful_addresses).

_Available since v4.6._

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(bridge)](#CrossChainEnabledArbitrumL1-constructor-address-)
- [_isCrossChain()](#CrossChainEnabledArbitrumL1-_isCrossChain--)
- [_crossChainSender()](#CrossChainEnabledArbitrumL1-_crossChainSender--)
#### CrossChainEnabled
</div>
</div>

<a id="CrossChainEnabledArbitrumL1-constructor-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(address bridge)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledArbitrumL1-constructor-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="CrossChainEnabledArbitrumL1-_isCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_isCrossChain() → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledArbitrumL1-_isCrossChain--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._isCrossChain`](#CrossChainEnabled-_isCrossChain--)

</div>
</div>

<a id="CrossChainEnabledArbitrumL1-_crossChainSender--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_crossChainSender() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledArbitrumL1-_crossChainSender--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._crossChainSender`](#CrossChainEnabled-_crossChainSender--)

</div>
</div>

<a id="CrossChainEnabledArbitrumL2"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `CrossChainEnabledArbitrumL2` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/arbitrum/CrossChainEnabledArbitrumL2.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/arbitrum/CrossChainEnabledArbitrumL2.sol";
```

[Arbitrum](https://arbitrum.io/) specialization or the
[`CrossChainEnabled`](#CrossChainEnabled) abstraction the L2 side (arbitrum).

This version should only be deployed on L2 to process cross-chain messages
originating from L1. For the other side, use [`CrossChainEnabledArbitrumL1`](#CrossChainEnabledArbitrumL1).

Arbitrum L2 includes the `ArbSys` contract at a fixed address. Therefore,
this specialization of [`CrossChainEnabled`](#CrossChainEnabled) does not include a constructor.

_Available since v4.6._

<Callout type="warn">
There is currently a bug in Arbitrum that causes this contract to
</Callout>
fail to detect cross-chain calls when deployed behind a proxy. This will be
fixed when the network is upgraded to Arbitrum Nitro, currently scheduled for
August 31st 2022.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [_isCrossChain()](#CrossChainEnabledArbitrumL2-_isCrossChain--)
- [_crossChainSender()](#CrossChainEnabledArbitrumL2-_crossChainSender--)
#### CrossChainEnabled
</div>
</div>

<a id="CrossChainEnabledArbitrumL2-_isCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_isCrossChain() → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledArbitrumL2-_isCrossChain--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._isCrossChain`](#CrossChainEnabled-_isCrossChain--)

</div>
</div>

<a id="CrossChainEnabledArbitrumL2-_crossChainSender--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_crossChainSender() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledArbitrumL2-_crossChainSender--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._crossChainSender`](#CrossChainEnabled-_crossChainSender--)

</div>
</div>

<a id="LibArbitrumL1"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `LibArbitrumL1` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/arbitrum/LibArbitrumL1.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/arbitrum/LibArbitrumL1.sol";
```

Primitives for cross-chain aware contracts for
[Arbitrum](https://arbitrum.io/).

This version should only be used on L1 to process cross-chain messages
originating from L2. For the other side, use [`LibArbitrumL2`](#LibArbitrumL2).

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [isCrossChain(bridge)](#LibArbitrumL1-isCrossChain-address-)
- [crossChainSender(bridge)](#LibArbitrumL1-crossChainSender-address-)
</div>
</div>

<a id="LibArbitrumL1-isCrossChain-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">isCrossChain(address bridge) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibArbitrumL1-isCrossChain-address-">#</a>
</div>
</div>
<div className="px-4">

Returns whether the current function call is the result of a
cross-chain message relayed by the `bridge`.

</div>
</div>

<a id="LibArbitrumL1-crossChainSender-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">crossChainSender(address bridge) → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibArbitrumL1-crossChainSender-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the address of the sender that triggered the current
cross-chain message through the `bridge`.

NOTE: [`LibAMB.isCrossChain`](#LibAMB-isCrossChain-address-) should be checked before trying to recover the
sender, as it will revert with `NotCrossChainCall` if the current
function call is not the result of a cross-chain message.

</div>
</div>

<a id="LibArbitrumL2"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `LibArbitrumL2` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/arbitrum/LibArbitrumL2.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/arbitrum/LibArbitrumL2.sol";
```

Primitives for cross-chain aware contracts for
[Arbitrum](https://arbitrum.io/).

This version should only be used on L2 to process cross-chain messages
originating from L1. For the other side, use [`LibArbitrumL1`](#LibArbitrumL1).

<Callout type="warn">
There is currently a bug in Arbitrum that causes this contract to
</Callout>
fail to detect cross-chain calls when deployed behind a proxy. This will be
fixed when the network is upgraded to Arbitrum Nitro, currently scheduled for
August 31st 2022.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [isCrossChain(arbsys)](#LibArbitrumL2-isCrossChain-address-)
- [crossChainSender(arbsys)](#LibArbitrumL2-crossChainSender-address-)
- [ARBSYS()](#LibArbitrumL2-ARBSYS-address)
</div>
</div>

<a id="LibArbitrumL2-isCrossChain-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">isCrossChain(address arbsys) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibArbitrumL2-isCrossChain-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="LibArbitrumL2-crossChainSender-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">crossChainSender(address arbsys) → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibArbitrumL2-crossChainSender-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the address of the sender that triggered the current
cross-chain message through `arbsys`.

NOTE: [`LibAMB.isCrossChain`](#LibAMB-isCrossChain-address-) should be checked before trying to recover the
sender, as it will revert with `NotCrossChainCall` if the current
function call is not the result of a cross-chain message.

</div>
</div>

<a id="LibArbitrumL2-ARBSYS-address"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ARBSYS() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="LibArbitrumL2-ARBSYS-address">#</a>
</div>
</div>
<div className="px-4">

Returns whether the current function call is the result of a
cross-chain message relayed by `arbsys`.

</div>
</div>

<a id="NotCrossChainCall--"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `NotCrossChainCall` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/errors.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/errors.sol";
```

<a id="NotCrossChainCall--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">NotCrossChainCall()</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="NotCrossChainCall--">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="InvalidCrossChainSender-address-address-"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `InvalidCrossChainSender` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/errors.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/errors.sol";
```

<a id="InvalidCrossChainSender-address-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">InvalidCrossChainSender(address actual, address expected)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="InvalidCrossChainSender-address-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="CrossChainEnabledOptimism"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `CrossChainEnabledOptimism` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/optimism/CrossChainEnabledOptimism.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/optimism/CrossChainEnabledOptimism.sol";
```

[Optimism](https://www.optimism.io/) specialization or the
[`CrossChainEnabled`](#CrossChainEnabled) abstraction.

The messenger (`CrossDomainMessenger`) contract is provided and maintained by
the optimism team. You can find the address of this contract on mainnet and
kovan in the [deployments section of Optimism monorepo](https://github.com/ethereum-optimism/optimism/tree/develop/packages/contracts/deployments).

_Available since v4.6._

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(messenger)](#CrossChainEnabledOptimism-constructor-address-)
- [_isCrossChain()](#CrossChainEnabledOptimism-_isCrossChain--)
- [_crossChainSender()](#CrossChainEnabledOptimism-_crossChainSender--)
#### CrossChainEnabled
</div>
</div>

<a id="CrossChainEnabledOptimism-constructor-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(address messenger)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledOptimism-constructor-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="CrossChainEnabledOptimism-_isCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_isCrossChain() → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledOptimism-_isCrossChain--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._isCrossChain`](#CrossChainEnabled-_isCrossChain--)

</div>
</div>

<a id="CrossChainEnabledOptimism-_crossChainSender--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_crossChainSender() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledOptimism-_crossChainSender--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._crossChainSender`](#CrossChainEnabled-_crossChainSender--)

</div>
</div>

<a id="LibOptimism"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `LibOptimism` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/optimism/LibOptimism.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/optimism/LibOptimism.sol";
```

Primitives for cross-chain aware contracts for [Optimism](https://www.optimism.io/).
See the [documentation](https://community.optimism.io/docs/developers/bridge/messaging/#accessing-msg-sender)
for the functionality used here.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [isCrossChain(messenger)](#LibOptimism-isCrossChain-address-)
- [crossChainSender(messenger)](#LibOptimism-crossChainSender-address-)
</div>
</div>

<a id="LibOptimism-isCrossChain-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">isCrossChain(address messenger) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibOptimism-isCrossChain-address-">#</a>
</div>
</div>
<div className="px-4">

Returns whether the current function call is the result of a
cross-chain message relayed by `messenger`.

</div>
</div>

<a id="LibOptimism-crossChainSender-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">crossChainSender(address messenger) → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="LibOptimism-crossChainSender-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the address of the sender that triggered the current
cross-chain message through `messenger`.

NOTE: [`LibAMB.isCrossChain`](#LibAMB-isCrossChain-address-) should be checked before trying to recover the
sender, as it will revert with `NotCrossChainCall` if the current
function call is not the result of a cross-chain message.

</div>
</div>

<a id="DEFAULT_SENDER-address"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `DEFAULT_SENDER` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/polygon/CrossChainEnabledPolygonChild.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/polygon/CrossChainEnabledPolygonChild.sol";
```

<a id="CrossChainEnabledPolygonChild"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `CrossChainEnabledPolygonChild` 

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.9.6/contracts/crosschain/polygon/CrossChainEnabledPolygonChild.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/contracts/crosschain/polygon/CrossChainEnabledPolygonChild.sol";
```

[Polygon](https://polygon.technology/) specialization or the
[`CrossChainEnabled`](#CrossChainEnabled) abstraction the child side (polygon/mumbai).

This version should only be deployed on child chain to process cross-chain
messages originating from the parent chain.

The fxChild contract is provided and maintained by the polygon team. You can
find the address of this contract polygon and mumbai in
[Polygon's Fx-Portal documentation](https://docs.polygon.technology/docs/develop/l1-l2-communication/fx-portal/#contract-addresses).

_Available since v4.6._

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(fxChild)](#CrossChainEnabledPolygonChild-constructor-address-)
- [_isCrossChain()](#CrossChainEnabledPolygonChild-_isCrossChain--)
- [_crossChainSender()](#CrossChainEnabledPolygonChild-_crossChainSender--)
- [processMessageFromRoot(, rootMessageSender, data)](#CrossChainEnabledPolygonChild-processMessageFromRoot-uint256-address-bytes-)
#### ReentrancyGuard
- [_reentrancyGuardEntered()](#ReentrancyGuard-_reentrancyGuardEntered--)
#### CrossChainEnabled
#### IFxMessageProcessor
</div>
</div>

<a id="CrossChainEnabledPolygonChild-constructor-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(address fxChild)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledPolygonChild-constructor-address-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="CrossChainEnabledPolygonChild-_isCrossChain--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_isCrossChain() → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledPolygonChild-_isCrossChain--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._isCrossChain`](#CrossChainEnabled-_isCrossChain--)

</div>
</div>

<a id="CrossChainEnabledPolygonChild-_crossChainSender--"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_crossChainSender() → address</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="CrossChainEnabledPolygonChild-_crossChainSender--">#</a>
</div>
</div>
<div className="px-4">

see [`CrossChainEnabled._crossChainSender`](#CrossChainEnabled-_crossChainSender--)

</div>
</div>

<a id="CrossChainEnabledPolygonChild-processMessageFromRoot-uint256-address-bytes-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">processMessageFromRoot(uint256, address rootMessageSender, bytes data)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">external</p>
<a className="peer" data-card href="CrossChainEnabledPolygonChild-processMessageFromRoot-uint256-address-bytes-">#</a>
</div>
</div>
<div className="px-4">

External entry point to receive and relay messages originating
from the fxChild.

Non-reentrancy is crucial to avoid a cross-chain call being able
to impersonate anyone by just looping through this with user-defined
arguments.

Note: if _fxChild calls any other function that does a delegate-call,
then security could be compromised.

</div>
</div>

