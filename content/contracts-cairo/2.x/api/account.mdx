---
title: Account
---

This crate provides components to implement account contracts that can be used for interacting with the network.

## Interfaces

<Callout type='info'>
Starting from version `3.x.x`, the interfaces are no longer part of the `openzeppelin_access` package. The references documented here are
contained in the `openzeppelin_interfaces` package version `{{openzeppelin_interfaces_version}}`.
</Callout>

import { UMBRELLA_VERSION } from "../utils/constants.js";

### `ISRC6` [toc] [#ISRC6]
<APIGithubLinkHeader
    moduleName="ISRC6"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/interfaces/src/account/accounts.cairo`}
/>

```rust
use openzeppelin_interfaces::accounts::ISRC6;
```

Interface of the SRC6 Standard Account as defined in the [SNIP-6](https://github.com/starknet-io/SNIPs/blob/main/SNIPS/snip-6.md).

[SRC5 ID](./introspection#ISRC5)

```text
0x2ceccef7f994940b3962a6c67e0ba4fcd37df7d131417c604f91e03caecc1cd
```

Functions

- [`__execute__(calls)`](#ISRC6-__execute__)
- [`__validate__(calls)`](#ISRC6-__validate__)
- [`is_valid_signature(hash, signature)`](#ISRC6-is_valid_signature)

#### Functions [!toc] [#ISRC6-Functions]

<APIItem
    functionSignature="__execute__(calls: Array<Call>)"
    id="ISRC6-__execute__"
    kind="external"
>
Executes the list of calls as a transaction after validation.

The `Call` struct is defined in [corelib](https://github.com/starkware-libs/cairo/blob/main/corelib/src/starknet/account.cairo#L3).
</APIItem>

<APIItem
    functionSignature="__validate__(calls: Array<Call>) → felt252"
    id="ISRC6-__validate__"
    kind="external"
>
Validates a transaction before execution.

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="is_valid_signature(hash: felt252, signature: Array<felt252>) → felt252"
    id="ISRC6-is_valid_signature"
    kind="external"
>
Validates whether a signature is valid or not for the given message hash.

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

### `ISRC9_V2` [toc] [#ISRC9_V2]
<APIGithubLinkHeader
    moduleName="ISRC9_V2"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/interfaces/src/account/src9.cairo`}
/>

```rust
use openzeppelin_interfaces::src9::ISRC9_V2;
```

Interface of the SRC9 Standard as defined in the [SNIP-9](https://github.com/starknet-io/SNIPs/blob/main/SNIPS/snip-9.md).

[SRC5 ID](./introspection#ISRC5)

```text
0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872
```

Functions

- [`execute_from_outside_v2(outside_execution, signature)`](#ISRC9_V2-execute_from_outside_v2)
- [`is_valid_outside_execution_nonce(nonce)`](#ISRC9_V2-is_valid_outside_execution_nonce)

#### Functions [!toc] [#ISRC9_V2-Functions]

<APIItem
    functionSignature="execute_from_outside_v2(outside_execution: OutsideExecution, signature: Span<felt252>,) → Array<Span<felt252>>"
    id="ISRC9_V2-execute_from_outside_v2"
    kind="external"
>
Allows anyone to submit a transaction on behalf of the account as long as they have the relevant signatures.

This method allows reentrancy. A call to `__execute__` or `execute_from_outside_v2` can trigger another nested transaction to `execute_from_outside_v2` thus the implementation MUST verify that the provided `signature` matches the hash of `outside_execution` and that `nonce` was not already used.

The implementation should expect version to be set to 2 in the domain separator.

Arguments:

- `outside_execution` - The parameters of the transaction to execute.
- `signature` - A valid signature on the [SNIP-12](https://github.com/starknet-io/SNIPs/blob/main/SNIPS/snip-12.md) message encoding of `outside_execution`.
</APIItem>

<APIItem
    functionSignature="is_valid_outside_execution_nonce(nonce: felt252) → bool"
    id="ISRC9_V2-is_valid_outside_execution_nonce"
    kind="external"
>
Get the status of a given nonce. `true` if the nonce is available to use.
</APIItem>

## Core

### `AccountComponent` [toc] [#AccountComponent]
<APIGithubLinkHeader
    moduleName="AccountComponent"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/account/src/account.cairo`}
/>

```rust
use openzeppelin_account::AccountComponent;
```

Account component implementing [`ISRC6`](#ISRC6) for signatures over the [Starknet curve](https://docs.starknet.io/architecture-and-concepts/cryptography/#stark-curve).

Implementing [SRC5Component](./introspection#SRC5Component) is a requirement for this component to be implemented.

[Embeddable Mixin Implementations](../components#mixins)

#### AccountMixinImpl [!toc] [#AccountComponent-Embeddable-Impls-AccountMixinImpl]

- [`SRC6Impl`](#AccountComponent-Embeddable-Impls-SRC6Impl)
- [`DeclarerImpl`](#AccountComponent-Embeddable-Impls-DeclarerImpl)
- [`DeployableImpl`](#AccountComponent-Embeddable-Impls-DeployableImpl)
- [`PublicKeyImpl`](#AccountComponent-Embeddable-Impls-PublicKeyImpl)
- [`SRC6CamelOnlyImpl`](#AccountComponent-Embeddable-Impls-SRC6CamelOnlyImpl)
- [`PublicKeyCamelImpl`](#AccountComponent-Embeddable-Impls-PublicKeyCamelImpl)
- [`SRC5Impl`](./introspection#SRC5Component-Embeddable-Impls)

Embeddable Implementations

#### SRC6Impl [!toc] [#AccountComponent-Embeddable-Impls-SRC6Impl]

- [`__execute__(self, calls)`](#AccountComponent-__execute__)
- [`__validate__(self, calls)`](#AccountComponent-__validate__)
- [`is_valid_signature(self, hash, signature)`](#AccountComponent-is_valid_signature)

#### DeclarerImpl [!toc] [#AccountComponent-Embeddable-Impls-DeclarerImpl]

- [`__validate_declare__(self, class_hash)`](#AccountComponent-__validate_declare__)

#### DeployableImpl [!toc] [#AccountComponent-Embeddable-Impls-DeployableImpl]

- [`__validate_deploy__(self, hash, signature)`](#AccountComponent-__validate_deploy__)

#### PublicKeyImpl [!toc] [#AccountComponent-Embeddable-Impls-PublicKeyImpl]

- [`get_public_key(self)`](#AccountComponent-get_public_key)
- [`set_public_key(self, new_public_key, signature)`](#AccountComponent-set_public_key)

#### SRC6CamelOnlyImpl [!toc] [#AccountComponent-Embeddable-Impls-SRC6CamelOnlyImpl]

- [`isValidSignature(self, hash, signature)`](#AccountComponent-isValidSignature)

#### PublicKeyCamelImpl [!toc] [#AccountComponent-Embeddable-Impls-PublicKeyCamelImpl]

- [`getPublicKey(self)`](#AccountComponent-getPublicKey)
- [`setPublicKey(self, newPublicKey, signature)`](#AccountComponent-setPublicKey)

#### SRC5Impl [!toc] [#AccountComponent-Embeddable-Impls-SRC5Impl]

- [`supports_interface(self, interface_id: felt252)`](./introspection#ISRC5-supports_interface)

Internal Implementations

#### InternalImpl [!toc] [#AccountComponent-InternalImpl]

- [`initializer(self, public_key)`](#AccountComponent-initializer)
- [`assert_only_self(self)`](#AccountComponent-assert_only_self)
- [`assert_valid_new_owner(self, current_owner, new_owner, signature)`](#AccountComponent-assert_valid_new_owner)
- [`validate_transaction(self)`](#AccountComponent-validate_transaction)
- [`_set_public_key(self, new_public_key)`](#AccountComponent-_set_public_key)
- [`_is_valid_signature(self, hash, signature)`](#AccountComponent-_is_valid_signature)

Events

- [`OwnerAdded(new_owner_guid)`](#AccountComponent-OwnerAdded)
- [`OwnerRemoved(removed_owner_guid)`](#AccountComponent-OwnerRemoved)

#### Embeddable functions [!toc] [#AccountComponent-Embeddable-Functions]

<APIItem
    functionSignature="__execute__(self: @ContractState, calls: Array<Call>)"
    id="AccountComponent-__execute__"
    kind="external"
>
See [ISRC6::\_\_execute\_\_](#ISRC6-__execute__).
</APIItem>

<APIItem
    functionSignature="__validate__(self: @ContractState, calls: Array<Call>) → felt252"
    id="AccountComponent-__validate__"
    kind="external"
>
See [ISRC6::\_\_validate\_\_](#ISRC6-__validate__).
</APIItem>

<APIItem
    functionSignature="is_valid_signature(self: @ContractState, hash: felt252, signature: Array<felt252>) → felt252"
    id="AccountComponent-is_valid_signature"
    kind="external"
>
See [ISRC6::is\_valid\_signature](#ISRC6-is_valid_signature).
</APIItem>

<APIItem
    functionSignature="__validate_declare__(self: @ContractState, class_hash: felt252) → felt252"
    id="AccountComponent-__validate_declare__"
    kind="external"
>
Validates a [`Declare` transaction](https://docs.starknet.io/architecture-and-concepts/network-architecture/transactions/#declare-transaction).

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="__validate_deploy__(self: @ContractState, class_hash: felt252, contract_address_salt: felt252, public_key: felt252) → felt252"
    id="AccountComponent-__validate_deploy__"
    kind="external"
>
Validates a [`DeployAccount` transaction](https://docs.starknet.io/architecture-and-concepts/network-architecture/transactions/#deploy_account_transaction). See [Counterfactual Deployments](../guides/deployment).

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="get_public_key(self: @ContractState) → felt252"
    id="AccountComponent-get_public_key"
    kind="external"
>
Returns the current public key of the account.
</APIItem>

<APIItem
    functionSignature="set_public_key(ref self: ContractState, new_public_key: felt252, signature: Span<felt252>)"
    id="AccountComponent-set_public_key"
    kind="external"
>
Sets a new public key for the account. Only accessible by the account calling itself through `__execute__`.

Requirements:

- The caller must be the contract itself.
- The signature must be valid for the new owner.

Emits both an [OwnerRemoved](#AccountComponent-OwnerRemoved) and an [OwnerAdded](#AccountComponent-OwnerAdded) event.

The message to be signed is computed in Cairo as follows:

```javascript
let message_hash = PoseidonTrait::new()
        .update_with('StarkNet Message')
        .update_with('accept_ownership')
        .update_with(get_contract_address())
        .update_with(current_owner)
        .finalize();
```
</APIItem>

<APIItem
    functionSignature="isValidSignature(self: @ContractState, hash: felt252, signature: Array<felt252>) → felt252"
    id="AccountComponent-isValidSignature"
    kind="external"
>
See [ISRC6::is\_valid\_signature](#ISRC6-is_valid_signature).
</APIItem>

<APIItem
    functionSignature="getPublicKey(self: @ContractState) → felt252"
    id="AccountComponent-getPublicKey"
    kind="external"
>
See [get\_public\_key](#AccountComponent-get_public_key).
</APIItem>

<APIItem
    functionSignature="setPublicKey(ref self: ContractState, newPublicKey: felt252, signature: Span<felt252>)"
    id="AccountComponent-setPublicKey"
    kind="external"
>
See [set\_public\_key](#AccountComponent-set_public_key).
</APIItem>

#### Internal functions [!toc] [#AccountComponent-Internal-Functions]

<APIItem
    functionSignature="initializer(ref self: ComponentState, public_key: felt252)"
    id="AccountComponent-initializer"
    kind="internal"
>
Initializes the account with the given public key, and registers the `ISRC6` interface ID.

Emits an [OwnerAdded](#AccountComponent-OwnerAdded) event.
</APIItem>

<APIItem
    functionSignature="assert_only_self(self: @ComponentState)"
    id="AccountComponent-assert_only_self"
    kind="internal"
>
Validates that the caller is the account itself. Otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="assert_valid_new_owner(self: @ComponentState, current_owner: felt252, new_owner: felt252, signature: Span<felt252>)"
    id="AccountComponent-assert_valid_new_owner"
    kind="internal"
>
Validates that `new_owner` accepted the ownership of the contract through a signature.

Requirements:

- `signature` must be valid for the new owner.

This function assumes that `current_owner` is the current owner of the contract, and does not validate this assumption.
</APIItem>

<APIItem
    functionSignature="validate_transaction(self: @ComponentState) → felt252"
    id="AccountComponent-validate_transaction"
    kind="internal"
>
Validates a transaction signature from the [global context](https://github.com/starkware-libs/cairo/blob/main/corelib/src/starknet/info.cairo#L61).

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="_set_public_key(ref self: ComponentState, new_public_key: felt252)"
    id="AccountComponent-_set_public_key"
    kind="internal"
>
Set the public key without validating the caller.

Emits an [OwnerAdded](#AccountComponent-OwnerAdded) event.

The usage of this method outside the `set_public_key` function is discouraged.
</APIItem>

<APIItem
    functionSignature="_is_valid_signature(self: @ComponentState, hash: felt252, signature: Span<felt252>) → bool"
    id="AccountComponent-_is_valid_signature"
    kind="internal"
>
Validates the provided `signature` for the `hash`, using the account's current public key.
</APIItem>

#### Events [!toc] [#AccountComponent-Events]

<APIItem
    functionSignature="OwnerAdded(new_owner_guid: felt252)"
    id="AccountComponent-OwnerAdded"
    kind="event"
>
Emitted when a `public_key` is added.
</APIItem>

<APIItem
    functionSignature="OwnerRemoved(removed_owner_guid: felt252)"
    id="AccountComponent-OwnerRemoved"
    kind="event"
>
Emitted when a `public_key` is removed.
</APIItem>

### `EthAccountComponent` [toc] [#EthAccountComponent]
<APIGithubLinkHeader
    moduleName="EthAccountComponent"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/account/src/eth_account.cairo`}
/>

```rust
use openzeppelin_account::eth_account::EthAccountComponent;
```

Account component implementing [`ISRC6`](#ISRC6) for signatures over the [Secp256k1 curve](https://en.bitcoin.it/wiki/Secp256k1).

Implementing [SRC5Component](./introspection#SRC5Component) is a requirement for this component to be implemented.

The `EthPublicKey` type is an alias for `starknet::secp256k1::Secp256k1Point`.

[Embeddable Mixin Implementations](../components#mixins)

#### EthAccountMixinImpl [!toc] [#EthAccountComponent-Embeddable-Impls-EthAccountMixinImpl]

- [`SRC6Impl`](#EthAccountComponent-Embeddable-Impls-SRC6Impl)
- [`DeclarerImpl`](#EthAccountComponent-Embeddable-Impls-DeclarerImpl)
- [`DeployableImpl`](#EthAccountComponent-Embeddable-Impls-DeployableImpl)
- [`PublicKeyImpl`](#EthAccountComponent-Embeddable-Impls-PublicKeyImpl)
- [`SRC6CamelOnlyImpl`](#EthAccountComponent-Embeddable-Impls-SRC6CamelOnlyImpl)
- [`PublicKeyCamelImpl`](#EthAccountComponent-Embeddable-Impls-PublicKeyCamelImpl)
- [`SRC5Impl`](./introspection#SRC5Component-Embeddable-Impls)

Embeddable Implementations

#### SRC6Impl [!toc] [#EthAccountComponent-Embeddable-Impls-SRC6Impl]

- [`__execute__(self, calls)`](#EthAccountComponent-__execute__)
- [`__validate__(self, calls)`](#EthAccountComponent-__validate__)
- [`is_valid_signature(self, hash, signature)`](#EthAccountComponent-is_valid_signature)

#### DeclarerImpl [!toc] [#EthAccountComponent-Embeddable-Impls-DeclarerImpl]

- [`__validate_declare__(self, class_hash)`](#EthAccountComponent-__validate_declare__)

#### DeployableImpl [!toc] [#EthAccountComponent-Embeddable-Impls-DeployableImpl]

- [`__validate_deploy__(self, hash, signature)`](#EthAccountComponent-__validate_deploy__)

#### PublicKeyImpl [!toc] [#EthAccountComponent-Embeddable-Impls-PublicKeyImpl]

- [`get_public_key(self)`](#EthAccountComponent-get_public_key)
- [`set_public_key(self, new_public_key, signature)`](#EthAccountComponent-set_public_key)

#### SRC6CamelOnlyImpl [!toc] [#EthAccountComponent-Embeddable-Impls-SRC6CamelOnlyImpl]

- [`isValidSignature(self, hash, signature)`](#EthAccountComponent-isValidSignature)

#### PublicKeyCamelImpl [!toc] [#EthAccountComponent-Embeddable-Impls-PublicKeyCamelImpl]

- [`getPublicKey(self)`](#EthAccountComponent-getPublicKey)
- [`setPublicKey(self, newPublicKey, signature)`](#EthAccountComponent-setPublicKey)

#### SRC5Impl [!toc] [#EthAccountComponent-Embeddable-Impls-SRC5Impl]

- [`supports_interface(self, interface_id: felt252)`](./introspection#ISRC5-supports_interface)

Internal Implementations

#### InternalImpl [!toc] [#EthAccountComponent-InternalImpl]

- [`initializer(self, public_key)`](#EthAccountComponent-initializer)
- [`assert_only_self(self)`](#EthAccountComponent-assert_only_self)
- [`assert_valid_new_owner(self, current_owner, new_owner, signature)`](#EthAccountComponent-assert_valid_new_owner)
- [`validate_transaction(self)`](#EthAccountComponent-validate_transaction)
- [`_set_public_key(self, new_public_key)`](#EthAccountComponent-_set_public_key)
- [`_is_valid_signature(self, hash, signature)`](#EthAccountComponent-_is_valid_signature)

Events

- [`OwnerAdded(new_owner_guid)`](#EthAccountComponent-OwnerAdded)
- [`OwnerRemoved(removed_owner_guid)`](#EthAccountComponent-OwnerRemoved)

#### Embeddable functions [!toc] [#EthAccountComponent-Embeddable-Functions]

<APIItem
    functionSignature="__execute__(self: @ContractState, calls: Array<Call>)"
    id="EthAccountComponent-__execute__"
    kind="external"
>
See [ISRC6::\_\_execute\_\_](#ISRC6-__execute__).
</APIItem>

<APIItem
    functionSignature="__validate__(self: @ContractState, calls: Array<Call>) → felt252"
    id="EthAccountComponent-__validate__"
    kind="external"
>
See [ISRC6::\_\_validate\_\_](#ISRC6-__validate__).
</APIItem>

<APIItem
    functionSignature="is_valid_signature(self: @ContractState, hash: felt252, signature: Array<felt252>) → felt252"
    id="EthAccountComponent-is_valid_signature"
    kind="external"
>
See [ISRC6::is\_valid\_signature](#ISRC6-is_valid_signature).
</APIItem>

<APIItem
    functionSignature="__validate_declare__(self: @ContractState, class_hash: felt252) → felt252"
    id="EthAccountComponent-__validate_declare__"
    kind="external"
>
Validates a [`Declare` transaction](https://docs.starknet.io/architecture-and-concepts/network-architecture/transactions/#declare-transaction).

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="__validate_deploy__(self: @ContractState, class_hash: felt252, contract_address_salt: felt252, public_key: EthPublicKey) → felt252"
    id="EthAccountComponent-__validate_deploy__"
    kind="external"
>
Validates a [`DeployAccount` transaction](https://docs.starknet.io/architecture-and-concepts/network-architecture/transactions/#deploy_account_transaction). See [Counterfactual Deployments](../guides/deployment).

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="get_public_key(self: @ContractState) → EthPublicKey"
    id="EthAccountComponent-get_public_key"
    kind="external"
>
Returns the current public key of the account.
</APIItem>

<APIItem
    functionSignature="set_public_key(ref self: ContractState, new_public_key: EthPublicKey, signature: Span<felt252>)"
    id="EthAccountComponent-set_public_key"
    kind="external"
>
Sets a new public key for the account. Only accessible by the account calling itself through `__execute__`.

Requirements:

- The caller must be the contract itself.
- The signature must be valid for the new owner.

Emits both an [OwnerRemoved](#EthAccountComponent-OwnerRemoved) and an [OwnerAdded](#EthAccountComponent-OwnerAdded) event.

The message to be signed is computed in Cairo as follows:

```javascript
let message_hash = PoseidonTrait::new()
        .update_with('StarkNet Message')
        .update_with('accept_ownership')
        .update_with(get_contract_address())
        .update_with(current_owner.get_coordinates().unwrap_syscall())
        .finalize();
```
</APIItem>

<APIItem
    functionSignature="isValidSignature(self: @ContractState, hash: felt252, signature: Array<felt252>) → felt252"
    id="EthAccountComponent-isValidSignature"
    kind="external"
>
See [ISRC6::is\_valid\_signature](#ISRC6-is_valid_signature).
</APIItem>

<APIItem
    functionSignature="getPublicKey(self: @ContractState) → EthPublicKey"
    id="EthAccountComponent-getPublicKey"
    kind="external"
>
See [get\_public\_key](#EthAccountComponent-get_public_key).
</APIItem>

<APIItem
    functionSignature="setPublicKey(ref self: ContractState, newPublicKey: EthPublicKey, signature: Span<felt252>)"
    id="EthAccountComponent-setPublicKey"
    kind="external"
>
See [set\_public\_key](#EthAccountComponent-set_public_key).
</APIItem>

#### Internal functions [!toc] [#EthAccountComponent-Internal-Functions]

<APIItem
    functionSignature="initializer(ref self: ComponentState, public_key: EthPublicKey)"
    id="EthAccountComponent-initializer"
    kind="internal"
>
Initializes the account with the given public key, and registers the `ISRC6` interface ID.

Emits an [OwnerAdded](#EthAccountComponent-OwnerAdded) event.
</APIItem>

<APIItem
    functionSignature="assert_only_self(self: @ComponentState)"
    id="EthAccountComponent-assert_only_self"
    kind="internal"
>
Validates that the caller is the account itself. Otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="assert_valid_new_owner(self: @ComponentState, current_owner: EthPublicKey, new_owner: EthPublicKey, signature: Span<felt252>)"
    id="EthAccountComponent-assert_valid_new_owner"
    kind="internal"
>
Validates that `new_owner` accepted the ownership of the contract through a signature.

Requirements:

- The signature must be valid for the `new_owner`.

This function assumes that `current_owner` is the current owner of the contract, and does not validate this assumption.
</APIItem>

<APIItem
    functionSignature="validate_transaction(self: @ComponentState) → felt252"
    id="EthAccountComponent-validate_transaction"
    kind="internal"
>
Validates a transaction signature from the [global context](https://github.com/starkware-libs/cairo/blob/main/corelib/src/starknet/info.cairo#L61).

Returns the short string `'VALID'` if valid, otherwise it reverts.
</APIItem>

<APIItem
    functionSignature="_set_public_key(ref self: ComponentState, new_public_key: EthPublicKey)"
    id="EthAccountComponent-_set_public_key"
    kind="internal"
>
Set the public key without validating the caller.

Emits an [OwnerAdded](#EthAccountComponent-OwnerAdded) event.

The usage of this method outside the `set_public_key` function is discouraged.
</APIItem>

<APIItem
    functionSignature="_is_valid_signature(self: @ComponentState, hash: felt252, signature: Span<felt252>) → bool"
    id="EthAccountComponent-_is_valid_signature"
    kind="internal"
>
Validates the provided `signature` for the `hash`, using the account's current public key.
</APIItem>

#### Events [!toc] [#EthAccountComponent-Events]

The `guid` is computed as the hash of the public key, using the poseidon hash function.

<APIItem
    functionSignature="OwnerAdded(new_owner_guid: felt252)"
    id="EthAccountComponent-OwnerAdded"
    kind="event"
>
Emitted when a `public_key` is added.
</APIItem>

<APIItem
    functionSignature="OwnerRemoved(removed_owner_guid: felt252)"
    id="EthAccountComponent-OwnerRemoved"
    kind="event"
>
Emitted when a `public_key` is removed.
</APIItem>

## Extensions

### `SRC9Component` [toc] [#SRC9Component]
<APIGithubLinkHeader
    moduleName="SRC9Component"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/account/src/extensions/src9/src9.cairo`}
/>

```rust
use openzeppelin_account::extensions::SRC9Component;
```

OutsideExecution component implementing [`ISRC9_V2`](#ISRC9_V2).

This component is signature-agnostic, meaning it can be integrated into any account contract, as long as the account implements the ISRC6 interface.

Embeddable Implementations

#### OutsideExecutionV2Impl [!toc] [#SRC9Component-Embeddable-Impls-OutsideExecutionV2Impl]

- [`execute_from_outside_v2(self, outside_execution, signature)`](#SRC9Component-execute_from_outside_v2)
- [`is_valid_outside_execution_nonce(self, nonce)`](#SRC9Component-is_valid_outside_execution_nonce)

Internal Implementations

#### InternalImpl [!toc] [#SRC9Component-InternalImpl]

- [`initializer(self)`](#SRC9Component-initializer)

#### Embeddable functions [!toc] [#SRC9Component-Embeddable-Functions]

<APIItem
    functionSignature="execute_from_outside_v2(ref self: ContractState, outside_execution: OutsideExecution, signature: Span<felt252>) → Array<Span<felt252>>"
    id="SRC9Component-execute_from_outside_v2"
    kind="external"
>
Allows anyone to submit a transaction on behalf of the account as long as they have the relevant signatures.

This method allows reentrancy. A call to `__execute__` or `execute_from_outside_v2` can trigger another nested transaction to `execute_from_outside_v2`. This implementation verifies that the provided `signature` matches the hash of `outside_execution` and that `nonce` was not already used.

Arguments:

- `outside_execution` - The parameters of the transaction to execute.
- `signature` - A valid signature on the [SNIP-12](https://github.com/starknet-io/SNIPs/blob/main/SNIPS/snip-12.md) message encoding of `outside_execution`.

Requirements:

- The caller must be the `outside_execution.caller` unless 'ANY\_CALLER' is used.
- The current time must be within the `outside_execution.execute_after` and `outside_execution.execute_before` span.
- The `outside_execution.nonce` must not be used before.
- The `signature` must be valid.
</APIItem>

<APIItem
    functionSignature="is_valid_outside_execution_nonce(self: @ContractState, nonce: felt252) → bool"
    id="SRC9Component-is_valid_outside_execution_nonce"
    kind="external"
>
Returns the status of a given nonce. `true` if the nonce is available to use.
</APIItem>

#### Internal functions [!toc] [#SRC9Component-Internal-Functions]

<APIItem
    functionSignature="initializer(ref self: ComponentState)"
    id="SRC9Component-initializer"
    kind="internal"
>
Initializes the account by registering the `ISRC9_V2` interface ID.
</APIItem>

## Presets

### `AccountUpgradeable` [toc] [#AccountUpgradeable]
<APIGithubLinkHeader
    moduleName="AccountUpgradeable"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/presets/src/account.cairo`}
/>

```rust
use openzeppelin_presets::AccountUpgradeable;
```

Upgradeable account which can change its public key and declare, deploy, or call contracts. Supports outside execution by implementing [SRC9](#SRC9Component).

[Sierra class hash](../presets)

```text
{{AccountUpgradeableClassHash}}
```

Constructor

- [`constructor(self, public_key)`](#AccountUpgradeable-constructor)

Embedded Implementations

AccountComponent

- [`AccountMixinImpl`](#AccountComponent-Embeddable-Mixin-Impl)

SRC9Component

- [`OutsideExecutionV2Impl`](#SRC9Component-Embeddable-Impls-OutsideExecutionV2Impl)

External Functions

- [`upgrade(self, new_class_hash)`](#AccountUpgradeable-upgrade)

#### Constructor [!toc] [#AccountUpgradeable-Constructor]

<APIItem
    functionSignature="constructor(ref self: ContractState, public_key: felt252)"
    id="AccountUpgradeable-constructor"
    kind="constructor"
>
Sets the account `public_key` and registers the interfaces the contract supports.
</APIItem>

#### External functions [!toc] [#AccountUpgradeable-External-Functions]

<APIItem
    functionSignature="upgrade(ref self: ContractState, new_class_hash: ClassHash)"
    id="AccountUpgradeable-upgrade"
    kind="external"
>
Upgrades the contract to a new implementation given by `new_class_hash`.

Requirements:

- The caller is the account contract itself.
- `new_class_hash` cannot be zero.
</APIItem>

### `EthAccountUpgradeable` [toc] [#EthAccountUpgradeable]
<APIGithubLinkHeader
    moduleName="EthAccountUpgradeable"
    link={`https://github.com/OpenZeppelin/cairo-contracts/blob/release-v${UMBRELLA_VERSION}/packages/presets/src/eth_account.cairo`}
/>

```rust
use openzeppelin_presets::EthAccountUpgradeable;
```

Upgradeable account which can change its public key and declare, deploy, or call contracts, using Ethereum signing keys. Supports outside execution by implementing [SRC9](#SRC9Component).

The `EthPublicKey` type is an alias for `starknet::secp256k1::Secp256k1Point`.

[Sierra class hash](../presets)

```text
{{EthAccountUpgradeableClassHash}}
```

Constructor

- [`constructor(self, public_key)`](#EthAccountUpgradeable-constructor)

Embedded Implementations

EthAccountComponent

- [`EthAccountMixinImpl`](#EthAccountComponent-Embeddable-Mixin-Impl)

SRC9Component

- [`OutsideExecutionV2Impl`](#SRC9Component-Embeddable-Impls-OutsideExecutionV2Impl)

External Functions

- [`upgrade(self, new_class_hash)`](#EthAccountUpgradeable-upgrade)

#### Constructor [!toc] [#EthAccountUpgradeable-Constructor]

<APIItem
    functionSignature="constructor(ref self: ContractState, public_key: EthPublicKey)"
    id="EthAccountUpgradeable-constructor"
    kind="constructor"
>
Sets the account `public_key` and registers the interfaces the contract supports.
</APIItem>

#### External functions [!toc] [#EthAccountUpgradeable-External-Functions]

<APIItem
    functionSignature="upgrade(ref self: ContractState, new_class_hash: ClassHash)"
    id="EthAccountUpgradeable-upgrade"
    kind="external"
>
Upgrades the contract to a new implementation given by `new_class_hash`.

Requirements:

- The caller is the account contract itself.
- `new_class_hash` cannot be zero.
</APIItem>
